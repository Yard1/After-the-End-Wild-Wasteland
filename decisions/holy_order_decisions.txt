###########################################
#
# Holy Order Decisions for Sons of Abraham
#
###########################################
# Written by Henrik Fåhraeus
###########################################

# Holy Order Decisions are listed for each existing holy order of the right religion

decisions = {
	
	expel_knights_columbus = {
		only_independent = yes
		ai = no

		potential = {
			d_knights_of_columbus = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			higher_tier_than = DUKE
			independent = yes
			NOT = { has_character_modifier = expelled_d_knights_templar }
			
			any_realm_province = {
				any_province_lord = {
					d_knights_templar = {
						holder_scope = {
							OR = {
								character = PREVPREV
								is_vassal_or_below = PREVPREV
							}
						}
					}
				}
			}
			
			has_dlc = "Sons of Abraham"
		}
		
		allow = {
			piety = 1000
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip
				hidden_tooltip = {
					NOT = { has_character_flag = expel_the_knights_templar_check }
				}
			}
		}
		
		effect = {
			set_character_flag = expel_the_knights_templar_check
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip_b
				hidden_tooltip = {
					character_event = { id = SoA.2990 }
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	expel_knights_peter_claver = {
		only_independent = yes
		ai = no

		potential = {
			d_knights_of_peter_claver = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			higher_tier_than = DUKE
			independent = yes
			NOT = { has_character_modifier = expelled_d_knights_hospitaler }
			
			any_realm_province = {
				any_province_lord = {
					d_knights_of_peter_claver = {
						holder_scope = {
							OR = {
								character = PREVPREV
								is_vassal_or_below = PREVPREV
							}
						}
					}
				}
			}
			
			has_dlc = "Sons of Abraham"
		}
		
		allow = {
			piety = 1000
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip
				hidden_tooltip = {
					NOT = { has_character_flag = expel_the_knights_hospitaler_check }
				}
			}
		}
		
		effect = {
			set_character_flag = expel_the_knights_hospitaler_check
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip_b
				hidden_tooltip = {
					character_event = { id = SoA.2990 }
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	expel_st_ursulas_chosen = {
		only_independent = yes
		ai = no

		potential = {
			d_st_ursulas_chosen = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			higher_tier_than = DUKE
			independent = yes
			NOT = { has_character_modifier = expelled_d_teutonic_order }
			
			any_realm_province = {
				any_province_lord = {
					d_st_ursulas_chosen = {
						holder_scope = {
							OR = {
								character = PREVPREV
								is_vassal_or_below = PREVPREV
							}
						}
					}
				}
			}
			
			has_dlc = "Sons of Abraham"
		}
		
		allow = {
			piety = 1000
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip
				hidden_tooltip = {
					NOT = { has_character_flag = expel_the_teutonic_order_check }
				}
			}
		}
		
		effect = {
			set_character_flag = expel_the_teutonic_order_check
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip_b
				hidden_tooltip = {
					character_event = { id = SoA.2990 }
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	expel_ursuline_state = {
		only_independent = yes
		ai = no

		potential = {
			k_ursuline_state = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			higher_tier_than = DUKE
			independent = yes
			NOT = { has_character_modifier = expelled_d_teutonic_order }
			
			any_realm_province = {
				any_province_lord = {
					k_ursuline_state = {
						holder_scope = {
							OR = {
								character = PREVPREV
								is_vassal_or_below = PREVPREV
							}
						}
					}
				}
			}
			
			has_dlc = "Sons of Abraham"
		}
		
		allow = {
			piety = 1000
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip
				hidden_tooltip = {
					NOT = { has_character_flag = expel_the_teutonic_order_check }
				}
			}
		}
		
		effect = {
			set_character_flag = expel_the_teutonic_order_check
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip_b
				hidden_tooltip = {
					character_event = { id = SoA.2990 }
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 0
		}
	}

	expel_the_fh = {
		only_independent = yes
		ai = no

		potential = {
			d_fh = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			higher_tier_than = DUKE
			independent = yes
			NOT = { has_character_modifier = expelled_d_jomsvikings }
			
			any_realm_province = {
				any_province_lord = {
					d_fh = {
						holder_scope = {
							OR = {
								character = PREVPREV
								is_vassal_or_below = PREVPREV
							}
						}
					}
				}
			}
			
			has_dlc = "Sons of Abraham"
		}
		
		allow = {
			piety = 1000
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip
				hidden_tooltip = {
					NOT = { has_character_flag = expel_the_jomsvikings_check }
				}
			}
		}
		
		effect = {
			set_character_flag = expel_the_jomsvikings_check
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip_b
				hidden_tooltip = {
					character_event = { id = SoA.2990 }
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	expel_the_mib = {
		only_independent = yes
		ai = no

		potential = {
			d_men_in_black = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			higher_tier_than = DUKE
			independent = yes
			NOT = { has_character_modifier = expelled_d_hashshashin }
			
			any_realm_province = {
				any_province_lord = {
					d_men_in_black = {
						holder_scope = {
							OR = {
								character = PREVPREV
								is_vassal_or_below = PREVPREV
							}
						}
					}
				}
			}
			
			has_dlc = "Sons of Abraham"
			NOT = { society_member_of = the_assassins }
		}
		
		allow = {
			piety = 1000
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip
				hidden_tooltip = {
					NOT = { has_character_flag = expel_the_assassins_check }
				}
			}
		}
		
		effect = {
			set_character_flag = expel_the_assassins_check
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip_b
				hidden_tooltip = {
					character_event = { id = SoA.2990 }
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	donate_money_to_knights_columbus = {
		only_playable = yes
		ai_check_interval = 80
		potential = {
			is_playable = yes
			
			OR = {
				AND = {
					OR = {
						NOR = {
							trait = cynical
							piety = 300
						}
						AND = {
							trait = zealous
							trait = charitable
						}
					}
					wealth = 600
				}
				ai = no
			}
			
			NOT = { government = order_government }
			
			d_knights_of_columbus = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			
			NOT = { has_character_modifier = expelled_d_knights_templar }
			
			OR = {
				NOT = { is_title_active = d_knights_of_peter_claver }
				AND = {
					NOT = { is_title_active = d_knights_of_peter_claver }
					NOT = { culture = tuskegean }
					NOT = { culture = motowner }
					NOT = { culture = gullah }
					NOT = { culture_group = caribbanglo }
					NOT = { culture_group = antillais }
					NOT = { culture_group = laurentian }
					NOT = { culture = creole }
				}
			}
			
			has_dlc = "Sons of Abraham"
			
			d_knights_of_columbus = {
				holder_scope = {
					liege = {
						NOT = { character = ROOT }
					}
				}
			}
		}
		
		allow = {
			wealth = 300
			custom_tooltip = {
				text = holy_order_donate_cooldown_tt
				NOT = { has_character_modifier = donate_to_holy_order_cooldown }
			}
		}
		
		effect = {
			hidden_effect = {
				add_character_modifier = {
					modifier = donate_to_holy_order_cooldown
					hidden = yes
					years = 1
				}
			}
			if = {
				limit = { 
					NOT = { has_character_modifier = donated_to_holy_order }
				}
				add_character_modifier = {
					name = donated_to_holy_order
					duration = -1
				}
			}
			
			hidden_tooltip = {
				d_knights_of_columbus = {
					holder_scope = {
						character_event = {
							id = SoA.1140
						}
					}
				}
			}
			
			wealth = -300
			piety = 100
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # Slow it down
			}
			modifier = {
				factor = 2.5
				trait = zealous
			}
			modifier = {
				factor = 2
				d_knights_of_columbus = {
					holder_scope = {
						OR = {
							is_friend = ROOT
							opinion = {
								who = FROM
								value = 75
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				trait = greedy
			}
			modifier = {
				factor = 0
				d_knights_of_columbus = {
					holder_scope = {
						OR = {
							is_rival = ROOT
							NOT = {
								reverse_opinion = {
									who = ROOT
									value = -25
								}
							}
							NOT = { is_within_diplo_range = ROOT }
						}
					}
				}
			}
		}
	}
	
	donate_money_to_knights_peter_claver = {
		only_playable = yes
		ai_check_interval = 80

		potential = {
			is_playable = yes
			
			OR = {
				AND = {
					wealth = 1000
					NOR = {
						trait = cynical
						piety = 50
					}
				}
				ai = no
			}
			
			NOT = { government = order_government }
			
			d_knights_of_peter_claver = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			
			NOT = { has_character_modifier = expelled_d_knights_hospitaler }
			
			OR = {
				NOT = { is_title_active = d_knights_of_columbus }
				OR = {
					culture_group = caribbanglo
					culture_group = antillais
					culture_group = laurentian
					culture = tuskegean
					culture = motowner
					culture = gullah
					culture = creole
				}
			}
			
			has_dlc = "Sons of Abraham"
			
			d_knights_of_peter_claver = {
				holder_scope = {
					liege = {
						NOT = { character = ROOT }
					}
				}
			}
		}
		
		allow = {
			wealth = 300
			custom_tooltip = {
				text = holy_order_donate_cooldown_tt
				NOT = { has_character_modifier = donate_to_holy_order_cooldown }
			}
		}
		
		effect = {
			hidden_effect = {
				add_character_modifier = {
					modifier = donate_to_holy_order_cooldown
					hidden = yes
					years = 1
				}
			}
			if = {
				limit = { 
					NOT = { has_character_modifier = donated_to_holy_order }
				}
				add_character_modifier = {
					name = donated_to_holy_order
					duration = -1
				}
			}
			
			hidden_tooltip = {
				d_knights_of_peter_claver = {
					holder_scope = {
						character_event = {
							id = SoA.1140
						}
					}
				}
			}
			
			wealth = -300
			piety = 100
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # Slow it down
			}
			modifier = {
				factor = 2.5
				trait = zealous
			}
			modifier = {
				factor = 2
				d_knights_of_peter_claver = {
					holder_scope = {
						OR = {
							is_friend = ROOT
							opinion = {
								who = FROM
								value = 75
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				trait = greedy
			}
			modifier = {
				factor = 0
				d_knights_of_peter_claver = {
					holder_scope = {
						OR = {
							is_rival = ROOT
							NOT = {
								reverse_opinion = {
									who = ROOT
									value = -25
								}
							}
							NOT = { is_within_diplo_range = ROOT }
						}
					}
				}
			}
		}
	}
	
	donate_money_to_st_ursulas_chosen = {
		only_playable = yes
		ai_check_interval = 80
		potential = {
			is_playable = yes
			
			OR = {
				AND = {
					wealth = 1000
					NOR = {
						trait = cynical
						piety = 50
					}
				}
				ai = no
			}
			
			NOT = { government = order_government }
			
			d_st_ursulas_chosen = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}

			NOT = { has_character_modifier = expelled_d_teutonic_order }
			
			has_dlc = "Sons of Abraham"
			
			d_st_ursulas_chosen = {
				holder_scope = {
					liege = {
						NOT = { character = ROOT }
					}
				}
			}
		}
		
		allow = {
			wealth = 300
			custom_tooltip = {
				text = holy_order_donate_cooldown_tt
				NOT = { has_character_modifier = donate_to_holy_order_cooldown }
			}
		}
		
		effect = {
			hidden_effect = {
				add_character_modifier = {
					modifier = donate_to_holy_order_cooldown
					hidden = yes
					years = 1
				}
			}
			if = {
				limit = { 
					NOT = { has_character_modifier = donated_to_holy_order }
				}
				add_character_modifier = {
					name = donated_to_holy_order
					duration = -1
				}
			}
			
			hidden_tooltip = {
				d_st_ursulas_chosen = {
					holder_scope = {
						character_event = {
							id = SoA.1340
						}
					}
				}
			}
			
			wealth = -300
			piety = 100
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # Slow it down
			}
			modifier = {
				factor = 2.5
				trait = zealous
			}
			modifier = {
				factor = 2
				d_st_ursulas_chosen = {
					holder_scope = {
						OR = {
							is_friend = ROOT
							opinion = {
								who = FROM
								value = 75
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				trait = greedy
			}
			modifier = {
				factor = 0
				d_st_ursulas_chosen = {
					holder_scope = {
						OR = {
							is_rival = ROOT
							NOT = {
								reverse_opinion = {
									who = ROOT
									value = -25
								}
							}
							NOT = { is_within_diplo_range = ROOT }
						}
					}
				}
			}
		}
	}

	donate_money_to_ursuline_state = {
		only_playable = yes
		ai_check_interval = 80
		potential = {
			is_playable = yes
			
			OR = {
				AND = {
					wealth = 1000
					NOR = {
						trait = cynical
						piety = 50
					}
				}
				ai = no
			}
			
			NOT = { government = order_government }
			
			k_ursuline_state = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}

			NOT = { has_character_modifier = expelled_d_teutonic_order }
			
			has_dlc = "Sons of Abraham"
			
			k_ursuline_state = {
				holder_scope = {
					liege = {
						NOT = { character = ROOT }
					}
				}
			}
		}
		
		allow = {
			wealth = 300
			custom_tooltip = {
				text = holy_order_donate_cooldown_tt
				NOT = { has_character_modifier = donate_to_holy_order_cooldown }
			}
		}
		
		effect = {
			hidden_effect = {
				add_character_modifier = {
					modifier = donate_to_holy_order_cooldown
					hidden = yes
					years = 1
				}
			}
			if = {
				limit = { 
					NOT = { has_character_modifier = donated_to_holy_order }
				}
				add_character_modifier = {
					name = donated_to_holy_order
					duration = -1
				}
			}
			
			hidden_tooltip = {
				k_ursuline_state = {
					holder_scope = {
						character_event = {
							id = SoA.1340
						}
					}
				}
			}
			
			wealth = -300
			piety = 100
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # Slow it down
			}
			modifier = {
				factor = 2.5
				trait = zealous
			}
			modifier = {
				factor = 2
				k_ursuline_state = {
					holder_scope = {
						OR = {
							is_friend = ROOT
							opinion = {
								who = FROM
								value = 75
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				trait = greedy
			}
			modifier = {
				factor = 0
				k_ursuline_state = {
					holder_scope = {
						OR = {
							is_rival = ROOT
							NOT = {
								reverse_opinion = {
									who = ROOT
									value = -25
								}
							}
							NOT = { is_within_diplo_range = ROOT }
						}
					}
				}
			}
		}
	}
	
	donate_money_to_fh = {
		only_playable = yes
		ai_check_interval = 80

		potential = {
			is_playable = yes
			
			OR = {
				AND = {
					wealth = 1000
					NOR = {
						trait = cynical
						piety = 50
					}
				}
				ai = no
			}
			
			d_fh = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			
			NOT = { government = order_government }
			
			has_dlc = "Sons of Abraham"
			
			d_fh = {
				holder_scope = {
					liege = {
						NOT = { character = ROOT }
					}
				}
			}
			
			NOT = { has_character_modifier = expelled_d_jomsvikings }
		}
		
		allow = {
			wealth = 300
			custom_tooltip = {
				text = holy_order_donate_cooldown_tt
				NOT = { has_character_modifier = donate_to_holy_order_cooldown }
			}
		}
		
		effect = {
			hidden_effect = {
				add_character_modifier = {
					modifier = donate_to_holy_order_cooldown
					hidden = yes
					years = 1
				}
			}
			if = {
				limit = { 
					NOT = { has_character_modifier = donated_to_holy_order }
				}
				add_character_modifier = {
					name = donated_to_holy_order
					duration = -1
				}
			}
			
			hidden_tooltip = {
				d_fh = {
					holder_scope = {
						character_event = {
							id = SoA.1540
						}
					}
				}
			}
			
			wealth = -300
			piety = 100
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # Slow it down
			}
			modifier = {
				factor = 2.5
				trait = zealous
			}
			modifier = {
				factor = 2
				d_fh = {
					holder_scope = {
						OR = {
							is_friend = ROOT
							opinion = {
								who = FROM
								value = 75
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				trait = greedy
			}
			modifier = {
				factor = 0
				d_fh = {
					holder_scope = {
						OR = {
							is_rival = ROOT
							NOT = {
								reverse_opinion = {
									who = ROOT
									value = -25
								}
							}
							NOT = { is_within_diplo_range = ROOT }
						}
					}
				}
			}
		}
	}
	
	donate_money_to_mib = {
		only_playable = yes
		ai_check_interval = 80

		potential = {
			is_playable = yes
			
			OR = {
				AND = {
					wealth = 1000
					NOR = {
						trait = cynical
						piety = 50
					}
				}
				ai = no
			}
			
			NOT = { government = order_government }
			
			d_men_in_black = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			
			NOT = { has_character_modifier = expelled_d_hashshashin }

			NOT = { society_member_of = the_assassins }
			
			has_dlc = "Sons of Abraham"
			
			d_men_in_black = {
				holder_scope = {
					liege = {
						NOT = { character = ROOT }
					}
				}
			}
		}
		
		allow = {
			wealth = 300
			custom_tooltip = {
				text = holy_order_donate_cooldown_tt
				NOT = { has_character_modifier = donate_to_holy_order_cooldown }
			}
		}
		
		effect = {
			hidden_effect = {
				add_character_modifier = {
					modifier = donate_to_holy_order_cooldown
					hidden = yes
					years = 1
				}
			}
			
			hidden_tooltip = {
				d_men_in_black = {
					holder_scope = {
						character_event = {
							id = SoA.1140
						}
					}
				}
			}
			
			wealth = -300
			piety = 100
		}

		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # Slow it down
			}
			modifier = {
				factor = 2.5
				trait = zealous
			}
			modifier = {
				factor = 2
				d_men_in_black = {
					holder_scope = {
						OR = {
							is_friend = ROOT
							opinion = {
								who = FROM
								value = 75
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				trait = greedy
			}
			modifier = {
				factor = 0
				d_men_in_black = {
					holder_scope = {
						OR = {
							is_rival = ROOT
							NOT = {
								reverse_opinion = {
									who = ROOT
									value = -25
								}
							}
							NOT = { is_within_diplo_range = ROOT }
						}
					}
				}
			}
		}
	}

	donate_money_to_oppenheimer = {
		only_playable = yes
		ai_check_interval = 80
		potential = {
			is_playable = yes
			
			OR = {
				AND = {
					wealth = 1000
					NOR = {
						trait = cynical
						piety = 50
					}
				}
				ai = no
			}
			
			NOT = { government = order_government }
			
			d_oppenheimer = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			
			has_dlc = "Sons of Abraham"
			
			NOT = { has_character_modifier = expelled_d_bektashi }
			
			d_oppenheimer = {
				holder_scope = {
					liege = {
						NOT = { character = ROOT }
					}
				}
			}
		}
		
		allow = {
			wealth = 300
			custom_tooltip = {
				text = holy_order_donate_cooldown_tt
				NOT = { has_character_modifier = donate_to_holy_order_cooldown }
			}
		}
		
		effect = {
			hidden_effect = {
				add_character_modifier = {
					modifier = donate_to_holy_order_cooldown
					hidden = yes
					years = 1
				}
			}
			
			hidden_tooltip = {
				d_oppenheimer = {
					holder_scope = {
						character_event = {
							id = SoA.1140
						}
					}
				}
			}
			
			wealth = -300
			piety = 100
		}

		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # Slow it down
			}
			modifier = {
				factor = 2.5
				trait = zealous
			}
			modifier = {
				factor = 2
				d_oppenheimer = {
					holder_scope = {
						OR = {
							is_friend = ROOT
							opinion = {
								who = FROM
								value = 75
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				trait = greedy
			}
			modifier = {
				factor = 0
				d_oppenheimer = {
					holder_scope = {
						OR = {
							is_rival = ROOT
							NOT = {
								reverse_opinion = {
									who = ROOT
									value = -25
								}
							}
							NOT = { is_within_diplo_range = ROOT }
						}
					}
				}
			}
		}
	}
	
	expel_oppenheimer = {
		only_independent = yes
		ai = no

		potential = {
			d_oppenheimer = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			higher_tier_than = DUKE
			independent = yes
			NOT = { has_character_modifier = expelled_d_bektashi }
			
			any_realm_province = {
				any_province_lord = {
					d_oppenheimer = {
						holder_scope = {
							OR = {
								character = PREVPREV
								is_vassal_or_below = PREVPREV
							}
						}
					}
				}
			}
			
			has_dlc = "Sons of Abraham"
		}
		
		allow = {
			piety = 1000
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip
				hidden_tooltip = {
					NOT = { has_character_flag = expel_the_bektashi_check }
				}
			}
		}
		
		effect = {
			set_character_flag = expel_the_bektashi_check
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip_b
				hidden_tooltip = {
					character_event = { id = SoA.2990 }
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	vassalize_knights_columbus = {
		only_playable = yes
		is_high_prio = yes
		ai_check_interval = 60
		
		potential = {
			is_playable = yes
			
			d_knights_of_columbus = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			
			NOT = { has_character_modifier = expelled_d_knights_templar }

			NOT = {
				d_knights_of_columbus = {
					owner = {
						has_opinion_modifier = {
							who = ROOT
							modifier = opinion_unfit_ruler
						}
					}
				}
			}
						
			has_landed_title = k_columbia
			
			has_dlc = "Sons of Abraham"
			
			d_knights_of_columbus = {
				holder_scope = {
					NOT = { has_truce = ROOT }
					ROOT = { NOT = { has_truce = PREV } }
					liege = {
						NOT = { character = ROOT }
					}
					NOT = { num_of_count_titles = 3 }
					independent = yes
					primary_title = { title = d_knights_of_columbus }
				}
			}

			NOT = {
				has_alternate_start_parameter = { key = religion_names value = random }
			}
		}
		
		allow = {
			wealth = 500
			is_heretic = no
			independent = yes

			conditional_tooltip = {
				trigger = {
					NOT = {
						d_knights_of_columbus = {
							owner = {
								opinion = {
									who = ROOT
									value = 25
								}
							}
						}
					}
				}

				custom_tooltip = {
					text = vassalize_knights_templar_opinion_TT

					d_knights_of_columbus = {
						owner = {
							opinion = {
								who = ROOT
								value = 25
							}
						}
					}
				}
			}

			NOT = {
				trait = excommunicated
			}

			custom_tooltip = {
				text = only_one_vassalized_holy_order_TT

				NOT = {
					any_realm_lord = {
						holy_order = yes
					}
				}
			}
		}
		
		effect = {
			wealth = -500
			
			hidden_tooltip = {
				d_knights_of_columbus = {
					holder_scope = {
						wealth = 500
						character_event = {
							id = SoA.1015
						}
					}
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
		}
	}
	
	vassalize_knights_peter_claver = {
		only_playable = yes
		is_high_prio = yes
		ai_check_interval = 60
		
		potential = {
			is_playable = yes
			d_knights_of_peter_claver = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			
			NOT = { has_character_modifier = expelled_d_knights_hospitaler }

			NOT = {
				d_knights_of_peter_claver = {
					owner = {
						has_opinion_modifier = {
							who = ROOT
							modifier = opinion_unfit_ruler
						}
					}
				}
			}
						
			has_landed_title = k_columbia
			
			d_knights_of_peter_claver = {
				holder_scope = {
					NOT = { has_truce = ROOT }
					ROOT = { NOT = { has_truce = PREV } }
					liege = {
						NOT = { character = ROOT }
					}
					NOT = { num_of_count_titles = 3 }
					independent = yes
					primary_title = { title = d_knights_of_peter_claver }
				}
			}
			
			has_dlc = "Sons of Abraham"
			
			NOT = {
				has_alternate_start_parameter = { key = religion_names value = random }
			}
		}
		
		allow = {
			wealth = 500
			is_heretic = no
			independent = yes

			conditional_tooltip = {
				trigger = {
					NOT = {
						d_knights_of_peter_claver = {
							owner = {
								opinion = {
									who = ROOT
									value = 25
								}
							}
						}
					}
				}

				custom_tooltip = {
					text = vassalize_knights_hospitaller_opinion_TT

					d_knights_of_peter_claver = {
						owner = {
							opinion = {
								who = ROOT
								value = 25
							}
						}
					}
				}
			}

			NOT = {
				trait = excommunicated
			}

			custom_tooltip = {
				text = only_one_vassalized_holy_order_TT

				NOT = {
					any_realm_lord = {
						holy_order = yes
					}
				}
			}
		}
		
		effect = {
			wealth = -500
			
			hidden_tooltip = {
				d_knights_of_peter_claver = {
					holder_scope = {
						wealth = 500
						character_event = {
							id = SoA.1115
						}
					}
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
		}
	}
	
	expel_the_nca = {
		only_independent = yes
		ai = no

		potential = {
			d_national_cathedral = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			higher_tier_than = DUKE
			independent = yes
			NOT = { has_character_modifier = expelled_d_holy_sepulchre }
			
			any_realm_province = {
				any_province_lord = {
					d_national_cathedral = {
						holder_scope = {
							OR = {
								character = PREVPREV
								is_vassal_or_below = PREVPREV
							}
						}
					}
				}
			}
			
			has_dlc = "Sons of Abraham"
		}
		
		allow = {
			piety = 1000
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip
				hidden_tooltip = {
					NOT = { has_character_flag = expel_the_holy_sepulchre_check }
				}
			}
		}
		
		effect = {
			set_character_flag = expel_the_holy_sepulchre_check
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip_b
				hidden_tooltip = {
					character_event = { id = SoA.2990 }
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	donate_money_to_nca = {
		only_playable = yes
		ai_check_interval = 80

		potential = {
			is_playable = yes
			
			OR = {
				AND = {
					wealth = 1000
					NOR = {
						trait = cynical
						piety = 50
					}
				}
				ai = no
			}
			
			NOT = { government = order_government }
			
			d_national_cathedral = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			
			NOT = { has_character_modifier = expelled_d_holy_sepulchre }
			
			d_national_cathedral = {
				holder_scope = {
					liege = {
						NOT = { character = ROOT }
					}
				}
			}
			
			has_dlc = "Sons of Abraham"
		}
		
		allow = {
			wealth = 300
			custom_tooltip = {
				text = holy_order_donate_cooldown_tt
				NOT = { has_character_modifier = donate_to_holy_order_cooldown }
			}
		}
		
		effect = {
			hidden_effect = {
				add_character_modifier = {
					modifier = donate_to_holy_order_cooldown
					hidden = yes
					years = 1
				}
			}
			if = {
				limit = { 
					NOT = { has_character_modifier = donated_to_holy_order }
				}
				add_character_modifier = {
					name = donated_to_holy_order
					duration = -1
				}
			}
			
			hidden_tooltip = {
				d_national_cathedral = {
					holder_scope = {
						character_event = {
							id = SoA.1640
						}
					}
				}
			}
			
			wealth = -300
			piety = 100
		}
		
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # Slow it down
			}
			modifier = {
				factor = 2.5
				trait = zealous
			}
			modifier = {
				factor = 2
				d_national_cathedral = {
					holder_scope = {
						OR = {
							is_friend = ROOT
							opinion = {
								who = FROM
								value = 75
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				trait = greedy
			}
			modifier = {
				factor = 0
				d_national_cathedral = {
					holder_scope = {
						OR = {
							is_rival = ROOT
							NOT = {
								reverse_opinion = {
									who = ROOT
									value = -25
								}
							}
							NOT = { is_within_diplo_range = ROOT }
						}
					}
				}
			}
		}
	}
	
	expel_lebanon_brethren = {
		only_independent = yes
		ai = no

		potential = {
			d_lebanon_brethren = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			higher_tier_than = DUKE
			independent = yes
			is_title_active = d_lebanon_brethren
			NOT = { has_character_modifier = expelled_d_saint_anthony }
			
			any_realm_province = {
				any_province_lord = {
					d_lebanon_brethren = {
						holder_scope = {
							OR = {
								character = PREVPREV
								is_vassal_or_below = PREVPREV
							}
						}
					}
				}
			}
			
			has_dlc = "Sons of Abraham"
		}
		
		allow = {
			piety = 1000
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip
				hidden_tooltip = {
					NOT = { has_character_flag = expel_saint_anthony_check }
				}
			}
		}
		
		effect = {
			set_character_flag = expel_saint_anthony_check
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip_b
				hidden_tooltip = {
					character_event = { id = SoA.2990 }
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	donate_money_to_lebanon_brethren = {
		only_playable = yes
		ai_check_interval = 80
		potential = {
			is_playable = yes
			
			OR = {
				AND = {
					wealth = 1000
					NOR = {
						trait = cynical
						piety = 50
					}
				}
				ai = no
			}
			
			NOT = { government = order_government }
			
			d_lebanon_brethren = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			
			NOT = { has_character_modifier = expelled_d_saint_anthony }
			
			d_lebanon_brethren = {
				holder_scope = {
					liege = {
						NOT = { character = ROOT }
					}
				}
			}
			
			has_dlc = "Sons of Abraham"
		}
		
		allow = {
			wealth = 300
			custom_tooltip = {
				text = holy_order_donate_cooldown_tt
				NOT = { has_character_modifier = donate_to_holy_order_cooldown }
			}
		}
		
		effect = {
			hidden_effect = {
				add_character_modifier = {
					modifier = donate_to_holy_order_cooldown
					hidden = yes
					years = 1
				}
			}
			if = {
				limit = { 
					NOT = { has_character_modifier = donated_to_holy_order }
				}
				add_character_modifier = {
					name = donated_to_holy_order
					duration = -1
				}
			}
			
			hidden_tooltip = {
				d_lebanon_brethren = {
					holder_scope = {
						character_event = {
							id = SoA.1740
						}
					}
				}
			}
			
			wealth = -300
			piety = 100
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # Slow it down
			}
			modifier = {
				factor = 2.5
				trait = zealous
			}
			modifier = {
				factor = 2
				d_lebanon_brethren = {
					holder_scope = {
						OR = {
							is_friend = ROOT
							opinion = {
								who = FROM
								value = 75
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				trait = greedy
			}
			modifier = {
				factor = 0
				d_lebanon_brethren = {
					holder_scope = {
						OR = {
							is_rival = ROOT
							NOT = {
								reverse_opinion = {
									who = ROOT
									value = -25
								}
							}
							NOT = { is_within_diplo_range = ROOT }
						}
					}
				}
			}
		}
	}
	
	expel_judah_lions = {
		only_independent = yes
		ai = no

		potential = {
			d_judah_lions = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			higher_tier_than = DUKE
			independent = yes
			NOT = { has_character_modifier = expelled_d_immortals }
			
			any_realm_province = {
				any_province_lord = {
					d_judah_lions = {
						holder_scope = {
							OR = {
								character = PREVPREV
								is_vassal_or_below = PREVPREV
							}
						}
					}
				}
			}
			
			has_dlc = "Sons of Abraham"
		}
		
		allow = {
			piety = 1000
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip
				hidden_tooltip = {
					NOT = { has_character_flag = expel_immortals_check }
				}
			}
		}
		
		effect = {
			set_character_flag = expel_immortals_check
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip_b
				hidden_tooltip = {
					character_event = { id = SoA.2990 }
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	donate_money_to_judah_lions = {
		only_playable = yes
		ai_check_interval = 80
		potential = {
			is_playable = yes
			
			OR = {
				AND = {
					wealth = 1000
					NOR = {
						trait = cynical
						piety = 50
					}
				}
				ai = no
			}
			
			NOT = { government = order_government }
			
			d_judah_lions = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			
			NOT = { has_character_modifier = expelled_d_immortals }
			
			has_dlc = "Sons of Abraham"
			
			d_judah_lions = {
				holder_scope = {
					liege = {
						NOT = { character = ROOT }
					}
				}
			}
		}
		
		allow = {
			wealth = 300
			custom_tooltip = {
				text = holy_order_donate_cooldown_tt
				NOT = { has_character_modifier = donate_to_holy_order_cooldown }
			}
		}
		
		effect = {
			hidden_effect = {
				add_character_modifier = {
					modifier = donate_to_holy_order_cooldown
					hidden = yes
					years = 1
				}
			}
			if = {
				limit = { 
					NOT = { has_character_modifier = donated_to_holy_order }
				}
				add_character_modifier = {
					name = donated_to_holy_order
					duration = -1
				}
			}
			
			hidden_tooltip = {
				d_judah_lions = {
					holder_scope = {
						character_event = {
							id = SoA.1840
						}
					}
				}
			}
			
			wealth = -300
			piety = 100
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # Slow it down
			}
			modifier = {
				factor = 2.5
				trait = zealous
			}
			modifier = {
				factor = 2
				d_judah_lions = {
					holder_scope = {
						OR = {
							is_friend = ROOT
							opinion = {
								who = FROM
								value = 75
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				trait = greedy
			}
			modifier = {
				factor = 0
				d_judah_lions = {
					holder_scope = {
						OR = {
							is_rival = ROOT
							NOT = {
								reverse_opinion = {
									who = ROOT
									value = -25
								}
							}
							NOT = { is_within_diplo_range = ROOT }
						}
					}
				}
			}
		}
	}
	
	expel_shomrim = {
		only_independent = yes
		ai = no

		potential = {
			d_shomrim = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			higher_tier_than = DUKE
			independent = yes
			NOT = { has_character_modifier = expelled_d_zealots }
			
			any_realm_province = {
				any_province_lord = {
					d_shomrim = {
						holder_scope = {
							OR = {
								character = PREVPREV
								is_vassal_or_below = PREVPREV
							}
						}
					}
				}
			}
			
			has_dlc = "Sons of Abraham"
		}
		
		allow = {
			piety = 1000
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip
				hidden_tooltip = {
					NOT = { has_character_flag = expel_zealots_check }
				}
			}
		}
		
		effect = {
			set_character_flag = expel_zealots_check
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip_b
				hidden_tooltip = {
					character_event = { id = SoA.2990 }
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	donate_money_to_shomrim = {
		only_playable = yes
		ai_check_interval = 80

		potential = {
			is_playable = yes
			
			OR = {
				AND = {
					wealth = 1000
					NOR = {
						trait = cynical
						piety = 50
					}
				}
				ai = no
			}
			
			NOT = { government = order_government }
			
			d_shomrim = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			
			has_dlc = "Sons of Abraham"
			
			NOT = { has_character_modifier = expelled_d_zealots }
			
			d_shomrim = {
				holder_scope = {
					liege = {
						NOT = { character = ROOT }
					}
				}
			}
		}
		
		allow = {
			wealth = 300
			custom_tooltip = {
				text = holy_order_donate_cooldown_tt
				NOT = { has_character_modifier = donate_to_holy_order_cooldown }
			}
		}
		
		effect = {
			hidden_effect = {
				add_character_modifier = {
					modifier = donate_to_holy_order_cooldown
					hidden = yes
					years = 1
				}
			}
			if = {
				limit = { 
					NOT = { has_character_modifier = donated_to_holy_order }
				}
				add_character_modifier = {
					name = donated_to_holy_order
					duration = -1
				}
			}
			
			hidden_tooltip = {
				d_shomrim = {
					holder_scope = {
						character_event = {
							id = SoA.1940
						}
					}
				}
			}
			
			wealth = -300
			piety = 100
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # Slow it down
			}
			modifier = {
				factor = 2.5
				trait = zealous
			}
			modifier = {
				factor = 2
				d_shomrim = {
					holder_scope = {
						OR = {
							is_friend = ROOT
							opinion = {
								who = FROM
								value = 75
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				trait = greedy
			}
			modifier = {
				factor = 0
				d_shomrim = {
					holder_scope = {
						OR = {
							is_rival = ROOT
							NOT = {
								reverse_opinion = {
									who = ROOT
									value = -25
								}
							}
							NOT = { is_within_diplo_range = ROOT }
						}
					}
				}
			}
		}
	}
	
	expel_freemasons = {
		only_independent = yes
		ai = no

		potential = {
			d_fm = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			higher_tier_than = DUKE
			independent = yes
			NOT = { has_character_modifier = expelled_d_sky_lords }
			
			any_realm_province = {
				any_province_lord = {
					d_fm = {
						holder_scope = {
							OR = {
								character = PREVPREV
								is_vassal_or_below = PREVPREV
							}
						}
					}
				}
			}
			
			has_dlc = "Sons of Abraham"
		}
		
		allow = {
			piety = 1000
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip
				hidden_tooltip = {
					NOT = { has_character_flag = expel_sky_lords_check }
				}
			}
		}
		
		effect = {
			set_character_flag = expel_sky_lords_check
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip_b
				hidden_tooltip = {
					character_event = { id = SoA.2990 }
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	donate_money_to_freemasons = {
		only_playable = yes
		ai_check_interval = 80

		potential = {
			is_playable = yes
			
			d_fm = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}

			OR = {
				AND = {
					wealth = 1000
					NOR = {
						trait = cynical
						piety = 50
					}
				}
				ai = no
			}

			NOT = { government = order_government }
						
			has_dlc = "Sons of Abraham"
			
			NOT = { has_character_modifier = expelled_d_sky_lords }
			
			d_fm = {
				holder_scope = {
					liege = {
						NOT = { character = ROOT }
					}
				}
			}
		}
		
		allow = {
			wealth = 300
			custom_tooltip = {
				text = holy_order_donate_cooldown_tt
				NOT = { has_character_modifier = donate_to_holy_order_cooldown }
			}
		}
		
		effect = {
			hidden_effect = {
				add_character_modifier = {
					modifier = donate_to_holy_order_cooldown
					hidden = yes
					years = 1
				}
			}
			if = {
				limit = { 
					NOT = { has_character_modifier = donated_to_holy_order }
				}
				add_character_modifier = {
					name = donated_to_holy_order
					duration = -1
				}
			}
			
			hidden_tooltip = {
				d_fm = {
					holder_scope = {
						character_event = {
							id = SoA.2040
						}
					}
				}
			}
			
			wealth = -300
			piety = 100
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # Slow it down
			}
			modifier = {
				factor = 2.5
				trait = zealous
			}
			modifier = {
				factor = 2
				d_fm = {
					holder_scope = {
						OR = {
							is_friend = ROOT
							opinion = {
								who = FROM
								value = 75
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				trait = greedy
			}
			modifier = {
				factor = 0
				d_fm = {
					holder_scope = {
						OR = {
							is_rival = ROOT
							NOT = {
								reverse_opinion = {
									who = ROOT
									value = -25
								}
							}
							NOT = { is_within_diplo_range = ROOT }
						}
					}
				}
			}
		}
	}
	
	expel_flaming_sword = {
		only_independent = yes
		ai = no

		potential = {
			d_flaming_sword = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			higher_tier_than = DUKE
			independent = yes
			NOT = { has_character_modifier = expelled_d_spirit_guardians }
			
			any_realm_province = {
				any_province_lord = {
					d_flaming_sword = {
						holder_scope = {
							OR = {
								character = PREVPREV
								is_vassal_or_below = PREVPREV
							}
						}
					}
				}
			}
			
			has_dlc = "Sons of Abraham"
		}
		
		allow = {
			piety = 1000
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip
				hidden_tooltip = {
					NOT = { has_character_flag = expel_spirit_guardians_check }
				}
			}
		}
		
		effect = {
			set_character_flag = expel_spirit_guardians_check
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip_b
				hidden_tooltip = {
					character_event = { id = SoA.2990 }
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	donate_money_to_flaming_sword = {
		only_playable = yes
		ai_check_interval = 80

		potential = {
			is_playable = yes
			
			d_flaming_sword = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
		
			OR = {
				AND = {
					wealth = 1000
					NOR = {
						trait = cynical
						piety = 50
					}
				}
				ai = no
			}
			
			NOT = { government = order_government }
						
			has_dlc = "Sons of Abraham"
			
			NOT = { has_character_modifier = expelled_d_spirit_guardians }
			
			d_flaming_sword = {
				holder_scope = {
					liege = {
						NOT = { character = ROOT }
					}
				}
			}
		}
		
		allow = {
			wealth = 300
			custom_tooltip = {
				text = holy_order_donate_cooldown_tt
				NOT = { has_character_modifier = donate_to_holy_order_cooldown }
			}
		}
		
		effect = {
			hidden_effect = {
				add_character_modifier = {
					modifier = donate_to_holy_order_cooldown
					hidden = yes
					years = 1
				}
			}
			if = {
				limit = { 
					NOT = { has_character_modifier = donated_to_holy_order }
				}
				add_character_modifier = {
					name = donated_to_holy_order
					duration = -1
				}
			}
			
			hidden_tooltip = {
				d_flaming_sword = {
					holder_scope = {
						character_event = {
							id = SoA.2140
						}
					}
				}
			}
			
			wealth = -300
			piety = 100
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # Slow it down
			}
			modifier = {
				factor = 2.5
				trait = zealous
			}
			modifier = {
				factor = 2
				d_flaming_sword = {
					holder_scope = {
						OR = {
							is_friend = ROOT
							opinion = {
								who = FROM
								value = 75
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				trait = greedy
			}
			modifier = {
				factor = 0
				d_flaming_sword = {
					holder_scope = {
						OR = {
							is_rival = ROOT
							NOT = {
								reverse_opinion = {
									who = ROOT
									value = -25
								}
							}
							NOT = { is_within_diplo_range = ROOT }
						}
					}
				}
			}
		}
	}
	
	expel_midwestern_brotherhood = {
		only_independent = yes
		ai = no

		potential = {
			d_midwestern_brotherhood = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			higher_tier_than = DUKE
			independent = yes
			NOT = { has_character_modifier = expelled_d_warriors_perun }
			
			any_realm_province = {
				any_province_lord = {
					d_midwestern_brotherhood = {
						holder_scope = {
							OR = {
								character = PREVPREV
								is_vassal_or_below = PREVPREV
							}
						}
					}
				}
			}
			
			has_dlc = "Sons of Abraham"
		}
		
		allow = {
			piety = 1000
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip
				hidden_tooltip = {
					NOT = { has_character_flag = expel_warriors_perun_check }
				}
			}
		}
		
		effect = {
			set_character_flag = expel_warriors_perun_check
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip_b
				hidden_tooltip = {
					character_event = { id = SoA.2990 }
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	donate_money_to_midwestern_brotherhood = {
		only_playable = yes
		ai_check_interval = 80

		potential = {
			is_playable = yes
			
			d_midwestern_brotherhood = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			
			OR = {
				AND = {
					wealth = 1000
					NOR = {
						trait = cynical
						piety = 50
					}
				}
				ai = no
			}

			NOT = { government = order_government }
			
			is_title_active = d_midwestern_brotherhood
			
			NOT = { has_character_modifier = expelled_d_warriors_perun }
			
			has_dlc = "Sons of Abraham"
			
			d_midwestern_brotherhood = {
				holder_scope = {
					liege = {
						NOT = { character = ROOT }
					}
				}
			}
		}
		
		allow = {
			wealth = 300
			custom_tooltip = {
				text = holy_order_donate_cooldown_tt
				NOT = { has_character_modifier = donate_to_holy_order_cooldown }
			}
		}
		
		effect = {
			hidden_effect = {
				add_character_modifier = {
					modifier = donate_to_holy_order_cooldown
					hidden = yes
					years = 1
				}
			}
			if = {
				limit = { 
					NOT = { has_character_modifier = donated_to_holy_order }
				}
				add_character_modifier = {
					name = donated_to_holy_order
					duration = -1
				}
			}
			
			hidden_tooltip = {
				d_midwestern_brotherhood = {
					holder_scope = {
						character_event = {
							id = SoA.2240
						}
					}
				}
			}
			
			wealth = -300
			piety = 100
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # Slow it down
			}
			modifier = {
				factor = 2.5
				trait = zealous
			}
			modifier = {
				factor = 2
				d_midwestern_brotherhood = {
					holder_scope = {
						OR = {
							is_friend = ROOT
							opinion = {
								who = FROM
								value = 75
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				trait = greedy
			}
			modifier = {
				factor = 0
				d_midwestern_brotherhood = {
					holder_scope = {
						OR = {
							is_rival = ROOT
							NOT = {
								reverse_opinion = {
									who = ROOT
									value = -25
								}
							}
							NOT = { is_within_diplo_range = ROOT }
						}
					}
				}
			}
		}
	}
	
	expel_greenpeace = {
		only_independent = yes
		ai = no

		potential = {
			d_keepers_of_the_green_peace = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			higher_tier_than = DUKE
			independent = yes
			NOT = { has_character_modifier = expelled_d_chosen_perkunas }
			
			any_realm_province = {
				any_province_lord = {
					d_keepers_of_the_green_peace = {
						holder_scope = {
							OR = {
								character = PREVPREV
								is_vassal_or_below = PREVPREV
							}
						}
					}
				}
			}
			
			has_dlc = "Sons of Abraham"
		}
		
		allow = {
			piety = 1000
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip
				hidden_tooltip = {
					NOT = { has_character_flag = expel_chosen_perkunas_check }
				}
			}
		}
		
		effect = {
			set_character_flag = expel_chosen_perkunas_check
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip_b
				hidden_tooltip = {
					character_event = { id = SoA.2990 }
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	donate_money_to_greenpeace = {
		only_playable = yes
		ai_check_interval = 80

		potential = {
			is_playable = yes
			
			d_keepers_of_the_green_peace = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}

			OR = {
				AND = {
					wealth = 1000
					NOR = {
						trait = cynical
						piety = 50
					}
				}
				ai = no
			}

			NOT = { government = order_government }
						
			has_dlc = "Sons of Abraham"
			
			NOT = { has_character_modifier = expelled_d_chosen_perkunas }
			
			d_keepers_of_the_green_peace = {
				holder_scope = {
					liege = {
						NOT = { character = ROOT }
					}
				}
			}
		}
		
		allow = {
			wealth = 300
			custom_tooltip = {
				text = holy_order_donate_cooldown_tt
				NOT = { has_character_modifier = donate_to_holy_order_cooldown }
			}
		}
		
		effect = {
			hidden_effect = {
				add_character_modifier = {
					modifier = donate_to_holy_order_cooldown
					hidden = yes
					years = 1
				}
			}
			if = {
				limit = { 
					NOT = { has_character_modifier = donated_to_holy_order }
				}
				add_character_modifier = {
					name = donated_to_holy_order
					duration = -1
				}
			}
			
			hidden_tooltip = {
				d_keepers_of_the_green_peace = {
					holder_scope = {
						character_event = {
							id = SoA.2340
						}
					}
				}
			}
			
			wealth = -300
			piety = 100
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # Slow it down
			}
			modifier = {
				factor = 2.5
				trait = zealous
			}
			modifier = {
				factor = 2
				d_keepers_of_the_green_peace = {
					holder_scope = {
						OR = {
							is_friend = ROOT
							opinion = {
								who = FROM
								value = 75
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				trait = greedy
			}
			modifier = {
				factor = 0
				d_keepers_of_the_green_peace = {
					holder_scope = {
						OR = {
							is_rival = ROOT
							NOT = {
								reverse_opinion = {
									who = ROOT
									value = -25
								}
							}
							NOT = { is_within_diplo_range = ROOT }
						}
					}
				}
			}
		}
	}

	expel_nauvoo_legion = {
		only_independent = yes
		ai = no

		potential = {
			d_nauvoo_legion = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			higher_tier_than = DUKE
			independent = yes
			NOT = { has_character_modifier = expelled_d_sons_kaleva }
			
			any_realm_province = {
				any_province_lord = {
					d_nauvoo_legion = {
						holder_scope = {
							OR = {
								character = PREVPREV
								is_vassal_or_below = PREVPREV
							}
						}
					}
				}
			}
			
			has_dlc = "Sons of Abraham"
		}
		
		allow = {
			piety = 1000
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip
				hidden_tooltip = {
					NOT = { has_character_flag = expel_sons_kaleva_check }
				}
			}
		}
		
		effect = {
			set_character_flag = expel_sons_kaleva_check
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip_b
				hidden_tooltip = {
					character_event = { id = SoA.2990 }
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	donate_money_to_nauvoo_legion = {
		only_playable = yes
		ai_check_interval = 80

		potential = {
			is_playable = yes
			
			d_nauvoo_legion = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			is_heretic = no
			
			OR = {
				AND = {
					wealth = 1000
					NOR = {
						trait = cynical
						piety = 50
					}
				}
				ai = no
			}

			NOT = { government = order_government }
						
			has_dlc = "Sons of Abraham"
			
			NOT = { has_character_modifier = expelled_d_sons_kaleva }
			
			d_nauvoo_legion = {
				holder_scope = {
					liege = {
						NOT = { character = ROOT }
					}
				}
			}
		}
		
		allow = {
			wealth = 300
			custom_tooltip = {
				text = holy_order_donate_cooldown_tt
				NOT = { has_character_modifier = donate_to_holy_order_cooldown }
			}
		}
		
		effect = {
			hidden_effect = {
				add_character_modifier = {
					modifier = donate_to_holy_order_cooldown
					hidden = yes
					years = 1
				}
			}
			if = {
				limit = { 
					NOT = { has_character_modifier = donated_to_holy_order }
				}
				add_character_modifier = {
					name = donated_to_holy_order
					duration = -1
				}
			}
			
			hidden_tooltip = {
				d_nauvoo_legion = {
					holder_scope = {
						character_event = {
							id = SoA.2440
						}
					}
				}
			}
			
			wealth = -300
			piety = 100
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # Slow it down
			}
			modifier = {
				factor = 2.5
				trait = zealous
			}
			modifier = {
				factor = 2
				d_nauvoo_legion = {
					holder_scope = {
						OR = {
							is_friend = ROOT
							opinion = {
								who = FROM
								value = 75
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				trait = greedy
			}
			modifier = {
				factor = 0
				d_nauvoo_legion = {
					holder_scope = {
						OR = {
							is_rival = ROOT
							NOT = {
								reverse_opinion = {
									who = ROOT
									value = -25
								}
							}
							NOT = { is_within_diplo_range = ROOT }
						}
					}
				}
			}
		}
	}
	
	expel_oto = {
		only_independent = yes
		ai = no

		potential = {
			d_oto = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			higher_tier_than = DUKE
			independent = yes
			NOT = { has_character_modifier = expelled_d_huitzilopochtli }
			
			any_realm_province = {
				any_province_lord = {
					d_oto = {
						holder_scope = {
							OR = {
								character = PREVPREV
								is_vassal_or_below = PREVPREV
							}
						}
					}
				}
			}
			
			has_dlc = "Sons of Abraham"
		}
		
		allow = {
			piety = 1000
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip
				hidden_tooltip = {
					NOT = { has_character_flag = expel_huitzilopochtli_check }
				}
			}
		}
		
		effect = {
			set_character_flag = expel_huitzilopochtli_check
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip_b
				hidden_tooltip = {
					character_event = { id = SoA.2990 }
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	donate_money_to_oto = {
		only_playable = yes
		ai_check_interval = 80

		potential = {
			is_playable = yes
			d_oto = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			
			OR = {
				AND = {
					wealth = 1000
					NOR = {
						trait = cynical
						piety = 50
					}
				}
				ai = no
			}

			NOT = { government = order_government }
						
			has_dlc = "Sons of Abraham"
			
			NOT = { has_character_modifier = expelled_d_huitzilopochtli }
			
			d_oto = {
				holder_scope = {
					liege = {
						NOT = { character = ROOT }
					}
				}
			}
		}
		
		allow = {
			wealth = 300
			custom_tooltip = {
				text = holy_order_donate_cooldown_tt
				NOT = { has_character_modifier = donate_to_holy_order_cooldown }
			}
		}
		
		effect = {
			hidden_effect = {
				add_character_modifier = {
					modifier = donate_to_holy_order_cooldown
					hidden = yes
					years = 1
				}
			}
			if = {
				limit = { 
					NOT = { has_character_modifier = donated_to_holy_order }
				}
				add_character_modifier = {
					name = donated_to_holy_order
					duration = -1
				}
			}
			
			hidden_tooltip = {
				d_oto = {
					holder_scope = {
						character_event = {
							id = SoA.2540
						}
					}
				}
			}
			
			wealth = -300
			piety = 100
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # Slow it down
			}
			modifier = {
				factor = 2.5
				trait = zealous
			}
			modifier = {
				factor = 2
				d_oto = {
					holder_scope = {
						OR = {
							is_friend = ROOT
							opinion = {
								who = FROM
								value = 75
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				trait = greedy
			}
			modifier = {
				factor = 0
				d_oto = {
					holder_scope = {
						OR = {
							is_rival = ROOT
							NOT = {
								reverse_opinion = {
									who = ROOT
									value = -25
								}
							}
							NOT = { is_within_diplo_range = ROOT }
						}
					}
				}
			}
		}
	}
	
	expel_masked_knights = {
		only_independent = yes
		ai = no

		potential = {
			d_masked_knights = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			higher_tier_than = DUKE
			independent = yes
			NOT = { has_character_modifier = expelled_d_knights_santiago }
			
			any_realm_province = {
				any_province_lord = {
					d_masked_knights = {
						holder_scope = {
							OR = {
								character = PREVPREV
								is_vassal_or_below = PREVPREV
							}
						}
					}
				}
			}
			
			has_dlc = "Sons of Abraham"
		}
		
		allow = {
			piety = 1000
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip
				hidden_tooltip = {
					NOT = { has_character_flag = expel_knights_santiago_check }
				}
			}
		}
		
		effect = {
			set_character_flag = expel_knights_santiago_check
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip_b
				hidden_tooltip = {
					character_event = { id = SoA.2990 }
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	donate_money_to_masked_knights = {
		only_playable = yes
		ai_check_interval = 80

		potential = {
			is_playable = yes
			
			OR = {
				AND = {
					wealth = 1000
					NOR = {
						trait = cynical
						piety = 50
					}
				}
				ai = no
			}

			NOT = { government = order_government }
						
			d_masked_knights = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			
			NOT = { has_character_modifier = expelled_d_knights_santiago }
			
			has_dlc = "Sons of Abraham"
			
			d_masked_knights = {
				holder_scope = {
					liege = {
						NOT = { character = ROOT }
					}
				}
			}
		}
		
		allow = {
			wealth = 300
			custom_tooltip = {
				text = holy_order_donate_cooldown_tt
				NOT = { has_character_modifier = donate_to_holy_order_cooldown }
			}
		}
		
		effect = {
			hidden_effect = {
				add_character_modifier = {
					modifier = donate_to_holy_order_cooldown
					hidden = yes
					years = 1
				}
			}
			if = {
				limit = { 
					NOT = { has_character_modifier = donated_to_holy_order }
				}
				add_character_modifier = {
					name = donated_to_holy_order
					duration = -1
				}
			}
			
			hidden_tooltip = {
				d_masked_knights = {
					holder_scope = {
						character_event = {
							id = SoA.2640
						}
					}
				}
			}
			
			wealth = -300
			piety = 100
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # Slow it down
			}
			modifier = {
				factor = 2.5
				trait = zealous
			}
			modifier = {
				factor = 2
				d_masked_knights = {
					holder_scope = {
						OR = {
							is_friend = ROOT
							opinion = {
								who = FROM
								value = 75
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				trait = greedy
			}
			modifier = {
				factor = 0
				d_masked_knights = {
					holder_scope = {
						OR = {
							is_rival = ROOT
							NOT = {
								reverse_opinion = {
									who = ROOT
									value = -25
								}
							}
							NOT = { is_within_diplo_range = ROOT }
						}
					}
				}
			}
		}
	}
	
	expel_order_of_brotherhood = {
		only_independent = yes
		ai = no

		potential = {
			d_order_of_brotherhood = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			higher_tier_than = DUKE
			independent = yes
			NOT = { has_character_modifier = expelled_d_knights_calatrava }
			
			any_realm_province = {
				any_province_lord = {
					d_order_of_brotherhood = {
						holder_scope = {
							OR = {
								character = PREVPREV
								is_vassal_or_below = PREVPREV
							}
						}
					}
				}
			}
			
			has_dlc = "Sons of Abraham"
		}
		
		allow = {
			piety = 1000
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip
				hidden_tooltip = {
					NOT = { has_character_flag = expel_knights_calatrava_check }
				}
			}
		}
		
		effect = {
			set_character_flag = expel_knights_calatrava_check
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip_b
				hidden_tooltip = {
					character_event = { id = SoA.2990 }
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	donate_money_to_order_of_brotherhood = {
		only_playable = yes
		ai_check_interval = 80

		potential = {
			is_playable = yes
			
			OR = {
				AND = {
					wealth = 1000
					NOR = {
						trait = cynical
						piety = 50
					}
				}
				ai = no
			}

			NOT = { government = order_government }
						
			d_order_of_brotherhood = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			
			NOT = { has_character_modifier = expelled_d_knights_calatrava }
			
			has_dlc = "Sons of Abraham"
			
			d_order_of_brotherhood = {
				holder_scope = {
					liege = {
						NOT = { character = ROOT }
					}
				}
			}
		}
		
		allow = {
			wealth = 300
			custom_tooltip = {
				text = holy_order_donate_cooldown_tt
				NOT = { has_character_modifier = donate_to_holy_order_cooldown }
			}
		}
		
		effect = {
			hidden_effect = {
				add_character_modifier = {
					modifier = donate_to_holy_order_cooldown
					hidden = yes
					years = 1
				}
			}
			if = {
				limit = { 
					NOT = { has_character_modifier = donated_to_holy_order }
				}
				add_character_modifier = {
					name = donated_to_holy_order
					duration = -1
				}
			}
			
			hidden_tooltip = {
				d_order_of_brotherhood = {
					holder_scope = {
						character_event = {
							id = SoA.2740
						}
					}
				}
			}
			
			wealth = -300
			piety = 100
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # Slow it down
			}
			modifier = {
				factor = 2.5
				trait = zealous
			}
			modifier = {
				factor = 2
				d_order_of_brotherhood = {
					holder_scope = {
						OR = {
							is_friend = ROOT
							opinion = {
								who = FROM
								value = 75
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				trait = greedy
			}
			modifier = {
				factor = 0
				d_order_of_brotherhood = {
					holder_scope = {
						OR = {
							is_rival = ROOT
							NOT = {
								reverse_opinion = {
									who = ROOT
									value = -25
								}
							}
							NOT = { is_within_diplo_range = ROOT }
						}
					}
				}
			}
		}
	}
	
	expel_st_pats = {
		only_independent = yes
		ai = no

		potential = {
			d_st_pats = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			higher_tier_than = DUKE
			independent = yes
			NOT = { has_character_modifier = expelled_d_saint_addai }
			
			any_realm_province = {
				any_province_lord = {
					d_st_pats = {
						holder_scope = {
							OR = {
								character = PREVPREV
								is_vassal_or_below = PREVPREV
							}
						}
					}
				}
			}
			
			has_dlc = "Sons of Abraham"
		}
		
		allow = {
			piety = 1000
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip
				hidden_tooltip = {
					NOT = { has_character_flag = expel_order_of_addai_check }
				}
			}
		}
		
		effect = {
			set_character_flag = expel_order_of_addai_check
			custom_tooltip = {
				text = expelling_holy_order_decision_tooltip_b
				hidden_tooltip = {
					character_event = { id = SoA.2990 }
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	donate_money_to_st_pats = {
		only_playable = yes
		ai_check_interval = 80
		potential = {
			is_playable = yes
			
			OR = {
				AND = {
					wealth = 1000
					NOR = {
						trait = cynical
						piety = 50
					}
				}
				ai = no
			}

			NOT = { government = order_government }
						
			d_st_pats = {
				holder_scope = {
					character = yes
					religion = ROOT
				}
			}
			
			NOT = { has_character_modifier = expelled_d_saint_addai }
			
			d_st_pats = {
				holder_scope = {
					liege = {
						NOT = { character = ROOT }
					}
				}
			}
			
			has_dlc = "Sons of Abraham"
		}
		
		allow = {
			wealth = 300
			custom_tooltip = {
				text = holy_order_donate_cooldown_tt
				NOT = { has_character_modifier = donate_to_holy_order_cooldown }
			}
		}
		
		effect = {
			hidden_effect = {
				add_character_modifier = {
					modifier = donate_to_holy_order_cooldown
					hidden = yes
					years = 1
				}
			}
			if = {
				limit = { 
					NOT = { has_character_modifier = donated_to_holy_order }
				}
				add_character_modifier = {
					name = donated_to_holy_order
					duration = -1
				}
			}
			
			hidden_tooltip = {
				d_st_pats = {
					holder_scope = {
						character_event = {
							id = SoA.2840
						}
					}
				}
			}
			
			wealth = -300
			piety = 100
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # Slow it down
			}
			modifier = {
				factor = 2.5
				trait = zealous
			}
			modifier = {
				factor = 2
				d_st_pats = {
					holder_scope = {
						OR = {
							is_friend = ROOT
							opinion = {
								who = FROM
								value = 75
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				trait = greedy
			}
			modifier = {
				factor = 0
				d_st_pats = {
					holder_scope = {
						OR = {
							is_rival = ROOT
							NOT = {
								reverse_opinion = {
									who = ROOT
									value = -25
								}
							}
							NOT = { is_within_diplo_range = ROOT }
						}
					}
				}
			}
		}
	}
	
	form_st_pats = {
		is_high_prio = yes
		only_playable = yes
		ai_check_interval = 60

		potential = {
			has_dlc = "Sons of Abraham"
			OR = {
				religion = high_church
				religion = nonconformist
			}
			NOT = { is_title_active = d_st_pats }
			is_heretic = no
			OR = {
				has_global_flag = christian_crusades_unlocked #Prevent Army from being created at start.
				has_global_flag = ursuline_crusades_unlocked
				has_global_flag = pagan_ghws_unlocked 
				has_global_flag = mormon_expeditions_unlocked
			}
			NOT = {
				has_alternate_start_parameter = { key = religion_names value = random }
			}
		}
		allow = {
			piety = 1000
			wealth = 500
			num_of_holy_sites = 1
			religion_authority = 0.5
		}
		effect = {
			piety = -1000
			wealth = -500
			narrative_event = { id = 39810 tooltip = EVT_39810_TT }
		}
		ai_will_do = {
			factor = 1
		}
	}
}

