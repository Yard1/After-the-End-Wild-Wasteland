namespace = ATE_WWW_RELIGION

# Establishing the Supreme Court
character_event = {
	id = ATE_WWW_RELIGION.1
	desc = {
		text = EVTDESC_ATE_WWW_RELIGION_1_A
		trigger = {
			character = FROM
		}
	}
	desc = {
		text = EVTDESC_ATE_WWW_RELIGION_1_b
		trigger = {
			NOT = { character = FROM }
		}
	}
	picture = GFX_evt_capitol_building
	border = GFX_event_normal_frame_religion
	
	major = yes

	is_triggered_only = yes
	major_trigger = {
		religion_group = oldworld
	}
	
	only_playable = yes
	
	option = {
		name = EVTOPTA_ATE_WWW_RELIGION_1
		trigger = {
			religion = hamiltonian
		}
	}
	option = {
		name = EVTOPTB_SOA_4200
		trigger = {
			religion = americanist
		}
	}
	option = {
		name = EVTOPTC_SOA_4200
		trigger = {
			NOR = {
				religion = hamiltonian
				religion = americanist
			}
		}
	}
}

# Supreme Court Chief Justice immediately loses claim if he or liege is no longer Hamiltonian
character_event = {
	id = ATE_WWW_RELIGION.2

	hide_window = yes

	only_playable = yes
	
	trigger = {
		d_supreme_court = {
			any_claimant = {
				OR = {
					NOT = { religion = hamiltonian }
					any_liege = { NOT = { religion = hamiltonian } }
				}
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		d_supreme_court = {
			any_claimant = {
				limit = {
					OR = {
						NOT = { religion = hamiltonian }
						any_liege = { NOT = { religion = hamiltonian } }
					}
				}
				remove_claim = d_supreme_court
			}
		}
	}
}

# Restore the Pope in Rome
character_event = {
	id = ATE_WWW_RELIGION.3
	desc = {
		text = EVTDESC_ATE_WWW_RELIGION_3_B
		trigger = {
			character = FROM
		}
	}
	desc = {
		text = EVTDESC_ATE_WWW_RELIGION_3_B
		trigger = {
			NOT = { character = FROM }
		}
	}
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	#major = yes
	
	is_triggered_only = yes
	#major_trigger = {
	#	religion_openly_americanist_or_heresy_trigger = yes
	#}
	
	only_playable = yes
	
	option = {
		name = EVTOPTA_ATE_WWW_RELIGION_1
		trigger = {
			religion = hamiltonian
		}
	}
	option = {
		name = EVTOPTB_SOA_4200
		trigger = {
			religion = americanist
		}
	}
	option = {
		name = EVTOPTC_SOA_4200
		trigger = {
			NOR = {
				religion = hamiltonian
				religion = americanist
			}
		}
	}
}

narrative_event = {
	id = ATE_WWW_RELIGION.4
	title = EVTNAME_general_of_army
	desc = EVTDESC_general_of_army
	picture = GFX_evt_coronation
	border = GFX_event_narrative_frame_religion

	major = yes

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_general_of_army
		trigger = {
			religion = jeffersonian
			NOT = { has_landed_title = d_forscom }
		}
	}
	
	option = {
		name = EVTOPTB_general_of_army
		trigger = {
			NOT = { religion_group = oldworld }
		}
	}
	
	option = {
		name = EVTOPTC_general_of_army
		trigger = {
			religion_group = oldworld
			NOT = { religion = jeffersonian }
		}
	}
	
	option = {
		name = EVTOPTD_general_of_army
		trigger = {
			religion = jeffersonian
			has_landed_title = d_forscom
		}
	}
}

# Chosing a Patron General
character_event = {
	id = ATE_WWW_RELIGION.5
	desc = "EVTDESC_ATE_WWW_RELIGION_1"
	picture = GFX_evt_camaraderie
	
	religion = jeffersonian
	is_triggered_only = yes

	trigger = {
		has_patron_general_trigger = no
	}

	immediate = {
		set_character_flag = choosing_patron_general
	}
	
	option = {
		name = EVOTPA_ATE_WWW_RELIGION_1
		custom_tooltip = { text = TXT_macarthur }
		add_trait = militarist_macarthur
		clr_character_flag = choosing_patron_general
		ai_chance = {
			factor = 25
			modifier = { factor = 2 higher_tier_than = DUKE }
			modifier = { factor = 2 trait = heavy_infantry_leader }
			modifier = { factor = 2 trait = strong }
			modifier = { factor = 2 trait = robust }
			modifier = { factor = 2 trait = proud }
			modifier = { factor = 2 trait = ambitious }
			modifier = { factor = 2 OR = { trait = quick trait = genius trait = shrewd } }
			modifier = { factor = 2 trait = inspiring_leader }
		}
	}
	option = {
		name = EVOTPB_ATE_WWW_RELIGION_1
		custom_tooltip = { text = TXT_sherman }
		add_trait = militarist_sherman
		clr_character_flag = choosing_patron_general
		ai_chance = {
			factor = 25
			modifier = { factor = 2 trait = siege_leader }
			modifier = { factor = 2 trait = organizer }
			modifier = { factor = 2 trait = humble }
			modifier = { factor = 2 trait = diligent }
			modifier = { factor = 2 trait = holy_warrior }
			modifier = { factor = 2 trait = berserker }
			modifier = { factor = 2 trait = inspiring_leader }
			modifier = { factor = 0.1 likes_southern = yes }
			modifier = { factor = 2 likes_yank = yes }
		}
	}
	option = {
		name = EVOTPC_ATE_WWW_RELIGION_1
		custom_tooltip = { text = TXT_patton }
		add_trait = militarist_patton
		clr_character_flag = choosing_patron_general
		ai_chance = {
			factor = 25
			modifier = { factor = 2 trait = flanker }
			modifier = { factor = 2 trait = proud }
			modifier = { factor = 2 trait = cruel }
			modifier = { factor = 2 trait = aggressive_leader }
			modifier = { factor = 2 trait = zealous }
			modifier = { factor = 2 trait = brave }
			modifier = { factor = 2 trait = wroth }
		}
	}
	option = {
		name = EVOTPD_ATE_WWW_RELIGION_1
		effect = { character_event = { id = ATE_WWW_RELIGION.6 } }
		trigger = { ai = no }
		ai_chance = {
			factor = 10
		}
	}
	option = {
		name = EVOTPA_ATE_WWW_RELIGION_2
		custom_tooltip = { text = TXT_custer }
		add_trait = militarist_custer
		clr_character_flag = choosing_patron_general
		trigger = { ai = yes }
		ai_chance = {
			factor = 25
			modifier = { factor = 100 has_landed_title = d_border_patrol }
			modifier = { factor = 2 trait = cavalry_leader }
			modifier = { factor = 2 trait = lustful }
			modifier = { factor = 2 trait = envious }
			modifier = { factor = 2 trait = greedy }
			modifier = { factor = 2 trait = cruel }
			modifier = { factor = 2 trait = lunatic }
			modifier = { factor = 2 trait = wroth }
			modifier = { factor = 2 OR = { trait = dull trait = slow } }
			modifier = { factor = 0 likes_native_americans = yes }
		}
	}
	option = {
		name = EVOTPB_ATE_WWW_RELIGION_2
		custom_tooltip = { text = TXT_lee }
		add_trait = militarist_lee
		clr_character_flag = choosing_patron_general
		trigger = { ai = yes }
		ai_chance = {
			factor = 25
			modifier = { factor = 2 trait = defensive_leader }
			modifier = { factor = 2 trait = scholar }
			modifier = { factor = 2 trait = patient }
			modifier = { factor = 2 trait = content }
			modifier = { factor = 2 trait = diligent }
			modifier = { factor = 2 trait = proud }
			modifier = { factor = 2 trait = brave }
			modifier = { factor = 2 likes_southern = yes }
			modifier = { factor = 0.1 likes_yank = yes }
		}
	}
	option = {
		name = EVOTPC_ATE_WWW_RELIGION_2
		custom_tooltip = { text = TXT_butler }
		add_trait = militarist_butler
		clr_character_flag = choosing_patron_general
		trigger = { ai = yes }
		ai_chance = {
			factor = 25
			modifier = { factor = 2 trait = inspiring_leader }
			modifier = { factor = 2 trait = light_foot_leader }
			modifier = { factor = 2 trait = humble }
			modifier = { factor = 2 trait = cynical }
			modifier = { factor = 2 trait = charitable }
			modifier = { factor = 2 trait = kind }
			modifier = { factor = 0.25 trait = zealous }
		}
	}
}

# Chosing a Patron General Part II
character_event = {
	id = ATE_WWW_RELIGION.6
	desc = "EVTDESC_ATE_WWW_RELIGION_1"
	picture = GFX_evt_camaraderie
	
	religion = jeffersonian
	ai = no
	is_triggered_only = yes
	
	option = {
		name = EVOTPA_ATE_WWW_RELIGION_2
		custom_tooltip = { text = TXT_custer }
		add_trait = militarist_custer
		clr_character_flag = choosing_patron_general
		ai_chance = {
			factor = 25
			modifier = { factor = 2 trait = cavalry_leader }
			modifier = { factor = 2 trait = lustful }
			modifier = { factor = 2 trait = envious }
			modifier = { factor = 2 trait = greedy }
			modifier = { factor = 2 trait = cruel }
			modifier = { factor = 2 trait = lunatic }
			modifier = { factor = 2 trait = wroth }
			modifier = { factor = 2 OR = { trait = dull trait = slow } }
			modifier = { factor = 0 likes_native_americans = yes }
		}
	}
	option = {
		name = EVOTPB_ATE_WWW_RELIGION_2
		custom_tooltip = { text = TXT_lee }
		add_trait = militarist_lee
		clr_character_flag = choosing_patron_general
		ai_chance = {
			factor = 25
			modifier = { factor = 2 trait = defensive_leader }
			modifier = { factor = 2 trait = scholar }
			modifier = { factor = 2 trait = patient }
			modifier = { factor = 2 trait = content }
			modifier = { factor = 2 trait = diligent }
			modifier = { factor = 2 trait = proud }
			modifier = { factor = 2 trait = brave }
			modifier = { factor = 2 likes_southern = yes }
			modifier = { factor = 0.25 likes_yank = yes }
		}
	}
	option = {
		name = EVOTPC_ATE_WWW_RELIGION_2
		custom_tooltip = { text = TXT_butler }
		add_trait = militarist_butler
		clr_character_flag = choosing_patron_general
		ai_chance = {
			factor = 25
			modifier = { factor = 2 trait = inspiring_leader }
			modifier = { factor = 2 trait = light_foot_leader }
			modifier = { factor = 2 trait = humble }
			modifier = { factor = 2 trait = cynical }
			modifier = { factor = 2 trait = charitable }
			modifier = { factor = 2 trait = kind }
			modifier = { factor = 0.25 trait = zealous }
		}
	}
	option = {
		name = EVOTPD_ATE_WWW_RELIGION_2
		effect = { character_event = { id = ATE_WWW_RELIGION.5 } }
	}
}

#Removing Patron General If Character is not Militarist
character_event = {
	id = ATE_WWW_RELIGION.7
	desc = "EVTDESC_ATE_WWW_RELIGION_7"
	picture = GFX_evt_camaraderie
	is_triggered_only = yes
	
	trigger = {
		NOT = { religion = jeffersonian }
		has_patron_general_trigger = yes
	}
	
	weight_multiplier = {
		days = 5
	}
	
	option = {
		name = EVTOPTA_ATE_WWW_RELIGION_7
		effect = {
			remove_patron_general_trigger = yes
		}
	}
}

character_event = {
	id = ATE_WWW_RELIGION.8
	desc = "Make sure the Marshal is always the regent for militarists"
	hide_window = yes
	only_playable = yes
	religion = jeffersonian
	
	trigger = {
		government = militarist_government
		job_marshal = {
			always = yes
		}
		job_marshal = {
			NOT = { has_minor_title = title_appointed_regent }
		}
	}
	
	mean_time_to_happen = {
		days = 2
	}
	
	immediate = {
		any_courtier_or_vassal = {
			limit = { has_minor_title = title_appointed_regent }
			remove_title = title_appointed_regent
			remove_opinion = { who = ROOT modifier = opinion_revoked_honorary_title }
		}
		job_marshal = {
			if = {
				limit = { can_hold_title = title_appointed_regent }
				give_minor_title = title_appointed_regent
			}
		}
	}
}

character_event = {
	id = ATE_WWW_RELIGION.9
	desc = "Re check tax variable"
	hide_window = yes
	only_playable = yes
	
	trigger = {
		is_feudal = yes
		higher_tier_than = baron
	}
	
	is_triggered_only = yes
	
	immediate = {
		character_event = { id = ATE_WWW_RELIGION.10 days = 1 }
	}
}

character_event = {
	id = ATE_WWW_RELIGION.10
	desc = "Re check tax variable"
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		any_demesne_title = {
			limit = {
				higher_tier_than = baron
			}
			set_variable = { which = current_feudal_tax_level value = 0 }
			if = {
				limit = {
					OR = {
						has_law = tax_levy_law_feudal_0
						has_law = tax_levy_law_militarist_0
					}
				}
				set_variable = { which = current_feudal_tax_level value = 1 }
				break = yes
			}
			if = {
				limit = {
					OR = {
						has_law = tax_levy_law_feudal_1
						has_law = tax_levy_law_militarist_1
					}
				}
				set_variable = { which = current_feudal_tax_level value = 2 }
				break = yes
			}
			if = {
				limit = {
					OR = {
						has_law = tax_levy_law_feudal_2
						has_law = tax_levy_law_militarist_2
					}
				}
				set_variable = { which = current_feudal_tax_level value = 3 }
				break = yes
			}
			if = {
				limit = {
					OR = {
						has_law = tax_levy_law_feudal_3
						has_law = tax_levy_law_militarist_3
					}
				}
				set_variable = { which = current_feudal_tax_level value = 4 }
				break = yes
			}
			# 4 ommited on purpose
			if = {
				limit = {
					OR = {
						has_law = tax_levy_law_feudal_5
						has_law = tax_levy_law_militarist_5
					}
				}
				set_variable = { which = current_feudal_tax_level value = 6 }
				break = yes
			}
			if = {
				limit = {
					OR = {
						has_law = tax_levy_law_feudal_6
						has_law = tax_levy_law_militarist_6
					}
				}
				set_variable = { which = current_feudal_tax_level value = 7 }
				break = yes
			}
			if = {
				limit = {
					OR = {
						has_law = tax_levy_law_feudal_7
						has_law = tax_levy_law_militarist_7
					}
				}
				set_variable = { which = current_feudal_tax_level value = 8 }
				break = yes
			}
			if = {
				limit = {
					OR = {
						has_law = tax_levy_law_feudal_8
						has_law = tax_levy_law_militarist_8
					}
				}
				set_variable = { which = current_feudal_tax_level value = 9 }
				break = yes
			}
		}
	}
}

character_event = {
	id = ATE_WWW_RELIGION.11
	desc = "Clear militarist_let_ruler_pick"
	hide_window = yes
	only_playable = yes
	
	is_triggered_only = yes

	trigger = {
		OR = {
			FROM = { has_title_flag = militarist_ruler_pick }
			any_playable_ruler = {
				FROMFROM = { 
					NOT = { is_liege_of = PREV }
					has_character_flag = militarist_let_ruler_pick_@PREV
				}
			}
		}
	}

	immediate = {
		any_playable_ruler = {
			if = {
				limit = {
					FROM = { has_title_flag = militarist_ruler_pick_@PREV }
				}
				FROM = { 
					clr_title_flag = militarist_ruler_pick_@PREV 
					clr_title_flag = militarist_ruler_pick
				}
				clr_character_flag = militarist_let_ruler_pick_@FROMFROM
			}
			if = {
				limit = {
					FROMFROM = { 
						NOT = { is_liege_of = PREV }
						has_character_flag = militarist_let_ruler_pick_@PREV
					}
				}
				FROMFROM = { clr_character_flag = militarist_let_ruler_pick_@PREV }
			}
		}	
	}
}

character_event = {
	id = ATE_WWW_RELIGION.12
	desc = "Clear militarist_let_ruler_pick"
	hide_window = yes
	only_playable = yes
	
	is_triggered_only = yes
	
	trigger = {
		OR = {
			primary_title = { has_title_flag = militarist_ruler_pick }
			any_realm_title = {
				has_title_flag = militarist_ruler_pick_@ROOT
			}
		}
	}

	immediate = {
		any_playable_ruler = {
			ROOT = {
				primary_title = {
					clr_title_flag = militarist_ruler_pick_@PREVPREV
					clr_title_flag = militarist_ruler_pick
				}
			}
			clr_character_flag = militarist_let_ruler_pick_@ROOT
		}
		any_realm_title = {
			clr_title_flag = militarist_ruler_pick_@ROOT
		}
	}
}

character_event = {
	id = ATE_WWW_RELIGION.13
	desc = "Clear militarist_let_ruler_pick"
	hide_window = yes
	only_playable = yes
	religion = jeffersonian
	
	is_triggered_only = yes
	
	trigger = {
		liege = {
			has_character_flag = militarist_let_ruler_pick_@ROOT 
			ROOT = { 
				primary_title = { 
					has_law = succ_militarist_appointment
					has_title_flag = militarist_ruler_pick_@PREVPREV
				} 
			}
		}
	}

	immediate = {
		liege = {
			clr_character_flag = militarist_let_ruler_pick_@ROOT
			ROOT = {
				primary_title = { 
					clr_title_flag = militarist_ruler_pick_@PREVPREV
				}
			}
		}
	}
}

letter_event = {
	id = ATE_WWW_RELIGION.14
	is_triggered_only = yes
	border = GFX_event_letter_frame_diplomacy
	
	trigger = {
		ai = no
	}

	desc = EVTDESC_ATE_WWW_RELIGION_14

	option = {
		name = OK
		FROM = { show_portrait = yes }
	}
}

character_event = {
	id = ATE_WWW_RELIGION.15
	desc = "Clear militarist_let_ruler_pick"
	hide_window = yes
	only_playable = yes
	religion = jeffersonian
	is_triggered_only = yes

	trigger = {
		government = militarist_government
	}

	immediate = {
		log = "ATE_WWW_RELIGION.15: fire for [Root.GetBestName]"
		if = {
			limit = { 
				independent = no 
			}
			any_demesne_title = {
				limit = {
					higher_tier_than = BARON
					NOT = { has_law = succ_militarist_appointment }
					is_law_potential = succ_militarist_appointment
				}
				add_law = { law = succ_militarist_appointment cooldown = no opinion_effect = no }
			}
		}
		else_if = {
			limit = {
				independent = yes
			}
			any_demesne_title = {
				limit = {
					higher_tier_than = BARON
					OR = {
						NOT = { has_law = succ_seniority }
						holder_scope = { has_landed_title = d_forscom }
					}
					NOT = { has_law = succ_feudal_elective }
					is_law_potential = succ_feudal_elective
				}
				add_law = { law = succ_feudal_elective cooldown = no opinion_effect = no }
			}
		}
		if = {
			limit = {
				any_demesne_title = { has_law = revoke_title_law_0 }
			}
			any_demesne_title = { add_law = { law = revoke_title_law_1 cooldown = no opinion_effect = no } }
		}
		any_demesne_title = {
			limit = {
				higher_tier_than = DUKE
				has_law = vassal_wars_law_0
				is_law_allowed = vassal_wars_law_1
			}
			add_law = { law = vassal_wars_law_1 cooldown = no opinion_effect = no }
		}
		any_demesne_title = {
			limit = {
				higher_tier_than = DUKE
				has_law = out_of_realm_inheritance_law_0
				is_law_allowed = out_of_realm_inheritance_law_1
			}
			add_law = { law = out_of_realm_inheritance_law_1 cooldown = no opinion_effect = no }
		}
		any_demesne_title = { 
			limit = { higher_tier_than = BARON }
			clr_title_flag = was_feudal 
			set_title_flag = was_militarist
		}
		any_vassal = {
			limit = { government = militarist_government is_ruler = yes mercenary = no }
			character_event = { id = ATE_WWW_RELIGION.15 }
		}
	}
}

character_event = {
	id = ATE_WWW_RELIGION.16
	desc = "Patrons for AI"
	hide_window = yes
	is_triggered_only = yes
	religion_group = oldworld
	only_playable = yes
	ai = yes
	min_age = 16

	trigger = {
		OR = {
			religion = americanist
			religion = hamiltonian
			religion = libertarian
			religion = jeffersonian
		}
		NOR = { 
			trait = washington
			trait = jefferson
			trait = lincoln
			trait = roosevelt
			has_patron_general_trigger = yes
		}
	}

	immediate = {
		if = {
			limit = { religion = jeffersonian }
			character_event = { id = ATE_WWW_RELIGION.5 }
		}
		else = {
			character_event = { id = USD.1 }
		}
	}
}

# AMERICANIST LIBERATION WAR
# Called from 'on_crusade_creation'
# new_character is the targetted enemy
# ROOT is the religious head
# FROM is the attacked kingdom title
narrative_event = {
	id = ATE_WWW_RELIGION.17
	title = EVTNAME200
	picture = GFX_evt_battle
	border = GFX_event_narrative_frame_war
	
	desc = {
		text = EVTDESC_liberation_war
		trigger = {
			OR = {
				new_character = {
					NOT = { religion_group = christian }
					NOT = { religion_group = pagan_group }
				}
				has_alternate_start_parameter = { key = religion_names value = random }
			}
		}
	}
	desc = {
		text = EVTDESC_liberation_war_pagan
		trigger = {
			new_character = {
				religion_group = pagan_group
			}
			NOT = {
				has_alternate_start_parameter = { key = religion_names value = random }
			}
		}
	}
	desc = {
		text = EVTDESC_liberation_war_christ
		trigger = {
			new_character = {
				religion_group = christian
			}
			NOT = {
				has_alternate_start_parameter = { key = religion_names value = random }
			}
		}
	}

	is_triggered_only = yes
	major = yes
	show_ROOT = yes
	hide_new = yes
	
	trigger = {
		can_call_crusade = yes
		ROOT = { 
			OR = {
				religion = americanist 
				religion = jeffersonian
				religion = hamiltonian
				religion = libertarian
			}
		}
	}
	
	
	immediate = {
		sound_effect = liberation_war_start_01
	}

	option = {
		name = EVTOPTA324 # For [God Name]!
		trigger = { religion = ROOT }
	}
	option = {
		name = EVTOPTB200 # No concern of ours
		trigger = {
			NOT = { religion = ROOT }
			new_character = {
				NOT = { religion = PREV }
				NOT = { character = PREV }
			}
		}
	}
	option = {
		name = EVTOPTD200 # To Arms!
		trigger = {
			new_character = {
				character = PREV
			}
		}
	}
	option = {
		name = EVTOPTE200 # Terrible News!
		trigger = {
			new_character = {
				religion = PREV
				NOT = { character = PREV }
			}
		}
	}
}

narrative_event = {
	id = ATE_WWW_RELIGION.18
	title = EVTNAME39690
	desc = EVTDESC39690
	picture = GFX_evt_battle
	border = GFX_event_narrative_frame_religion
	
	major = yes
	
	show_ROOT = yes
	hide_new = yes
	
	only_playable = yes
	min_age = 16

	religion_group = oldworld
	
	trigger = {
		NOT = { #immersion-breaking
			has_alternate_start_parameter = { key = religion_names value = random }
		}
		OR = {
			religion = americanist
			religion = hamiltonian
		}
		controls_religion = yes
		year = 2675
		
		NOT = { has_global_flag = liberation_wars_unlocked }
	}
	
	is_triggered_only = yes
	
	immediate = {
		set_global_flag = liberation_wars_unlocked
	}
	
	option = {
		name = EVTOPTA39690
		trigger = {
			religion_openly_americanist_or_heresy_trigger = yes
		}
	}
	
	option = {
		name = EVTOPTB39690
		trigger = {
			NOT = { religion_openly_americanist_or_heresy_trigger = yes }
		}
	}
}

narrative_event = {
	id = ATE_WWW_RELIGION.19
	title = EVTNAME39690
	desc = EVTDESC39693
	picture = GFX_evt_battle
	border = GFX_event_narrative_frame_religion
	
	major = yes
	
	show_ROOT = yes
	hide_new = yes
	
	only_playable = yes
	min_age = 16

	religion = americanist
	
	trigger = {
		NOT = { #immersion-breaking
			has_alternate_start_parameter = { key = religion_names value = random }
		}
		religion = americanist
		controls_religion = yes
		NOT = { has_global_flag = liberation_wars_unlocked }

		calc_true_if = { 
			amount = 2
			AND = {
				3 = { # manhattan
					owner = {
						NOT = { religion_openly_americanist_or_heresy_trigger = yes }
					}
				}
			}
			AND = {
				27 = { # philadelphia
					owner = {
						NOT = { religion_openly_americanist_or_heresy_trigger = yes }
					}
				}
			}
			AND = {
				383 = { # rushmore
					owner = {
						NOT = { religion_openly_americanist_or_heresy_trigger = yes }
					}
				}
			}
		}
	}
	
	mean_time_to_happen = {
		months = 3
	}
	
	immediate = {
		set_global_flag = liberation_wars_unlocked
	}
	
	option = {
		name = EVTOPTA39690
		trigger = {
			religion_openly_americanist_or_heresy_trigger = yes
		}
	}
	
	option = {
		name = EVTOPTB39690
		trigger = {
			NOT = { religion_openly_americanist_or_heresy_trigger = yes }
		}
	}
}

narrative_event = {
	id = ATE_WWW_RELIGION.20
	title = EVTNAME39690
	desc = EVTDESC39692
	picture = GFX_evt_battle
	border = GFX_event_narrative_frame_religion
	
	major = yes
	
	show_ROOT = yes
	hide_new = yes
	
	only_playable = yes
	min_age = 16
	
	trigger = {
		NOT = { #immersion-breaking
			has_alternate_start_parameter = { key = religion_names value = random }
		}
		religion = americanist
		controls_religion = yes
		NOT = { has_global_flag = liberation_wars_unlocked }
		
		63 = { # DC
			owner = {
				NOT = { religion_openly_americanist_or_heresy_trigger = yes }
			}
		}
	}
	
	mean_time_to_happen = {
		months = 3
	}
	
	immediate = {
		set_global_flag = liberation_wars_unlocked
	}
	
	option = {
		name = EVTOPTA39690
		trigger = {
			religion_openly_americanist_or_heresy_trigger = yes
		}
	}
	
	option = {
		name = EVTOPTB39690
		trigger = {
			NOT = { religion_openly_americanist_or_heresy_trigger = yes }
		}
	}
}

character_event = {
	id = ATE_WWW_RELIGION.21
	hide_window = yes
	
	only_playable = yes
	min_age = 16
	religion_group = oldworld
	ai = yes
	
	trigger = {
		religion_openly_americanist_or_heresy_trigger = yes
		NOT = { trait = hidden_ai_zeal_boost_for_americanists }
		63 = { # DC
			owner = {
				NOT = { religion_openly_americanist_or_heresy_trigger = yes }
			}
		}
	}
	
	mean_time_to_happen = {
		months = 1
	}
	
	immediate = {
		add_trait = hidden_ai_zeal_boost_for_americanists
	}
}

character_event = {
	id = ATE_WWW_RELIGION.22
	hide_window = yes
	
	only_playable = yes
	min_age = 16
	religion_group = oldworld
	ai = yes
	
	trigger = {
		religion_openly_americanist_or_heresy_trigger = yes
		trait = hidden_ai_zeal_boost_for_americanists
		63 = { # DC
			owner = {
				religion_openly_americanist_or_heresy_trigger = yes
			}
		}
	}
	
	mean_time_to_happen = {
		months = 1
	}
	
	immediate = {
		remove_trait = hidden_ai_zeal_boost_for_americanists
	}
}


character_event = {
	id = ATE_WWW_RELIGION.23
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		any_independent_ruler = {
			limit = {
				mercenary = no
				NOT = { character = ROOT }
				religion = ROOT
				NOT = { war_with = ROOT }
				NOT = { war_with = event_target:crusade_attacker }
				any_realm_title = {
					de_jure_liege_or_above = event_target:crusade_title
				}
			}
			if = {
				limit = { has_pledged_crusade_participation = no }
				pledge_crusade_defense = yes
			}
			join_defender_wars = ROOT
		}
	}

}

character_event = {
	id = ATE_WWW_RELIGION.24
	hide_window = yes
	
	only_independent = yes
	religion = jeffersonian
	
	trigger = {
		government = militarist_government
		any_vassal = {
			government = militarist_government
			higher_tier_than = BARON
			any_demesne_title = {
				NOT = { has_law = succ_militarist_appointment }
				is_law_potential = succ_militarist_appointment
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		log = "ATE_WWW_RELIGION.24: fire for [Root.GetBestName]"
		character_event = { id = ATE_WWW_RELIGION.15 }
	}

}

character_event = {
	id = ATE_WWW_RELIGION.25
	hide_window = yes
	
	only_independent = yes
	
	trigger = {
		NOT = { government = militarist_government }
		any_vassal = {
			higher_tier_than = BARON
			any_demesne_title = {
				has_law = succ_militarist_appointment
				NOT = { is_law_potential = succ_militarist_appointment }
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		log = "ATE_WWW_RELIGION.25: fire for [Root.GetBestName]"
		if = {
			limit = { has_law = ze_administration_laws_0 }
			any_demesne_title = { 
				limit = {
					has_law = succ_militarist_appointment
					NOT = { is_law_potential = succ_militarist_appointment }
				}
				add_law = { law = succ_gavelkind cooldown = no opinion_effect = no } 
			}
		}
		else = {
			any_demesne_title = { 
				limit = {
					has_law = succ_militarist_appointment
					NOT = { is_law_potential = succ_militarist_appointment }
				}
				add_law = { law = succ_primogeniture cooldown = no opinion_effect = no } 
			}
		}
		any_demesne_title = {
			if = {
				limit = {
					higher_tier_than = DUKE
					has_law = vassal_wars_law_1
					NOT = { is_law_allowed = vassal_wars_law_1 }
				}
				add_law = { law = vassal_wars_law_0 cooldown = no opinion_effect = no }
			}
			if = {
				limit = {
					higher_tier_than = DUKE
					has_law = out_of_realm_inheritance_law_1
					NOT = { is_law_allowed = out_of_realm_inheritance_law_1 }
				}
				add_law = { law = out_of_realm_inheritance_law_0 cooldown = no opinion_effect = no }
			}
		}
		if = {
			limit = { any_demesne_title = { has_title_flag = was_militarist } }
			character_event = { id = ATE_WWW_RELIGION.12 }
		}
		any_demesne_title = { 
			limit = { higher_tier_than = BARON }
			clr_title_flag = was_militarist 
			set_title_flag = was_feudal 
		}
		any_vassal = {
			limit = { is_feudal = yes is_ruler = yes mercenary = no }
			character_event = { id = ATE_WWW_RELIGION.26 }
		}
	}

}

character_event = {
	id = ATE_WWW_RELIGION.26
	hide_window = yes
	
	only_playable = yes
	
	trigger = {
		NOT = { government = militarist_government }
		any_vassal = {
			higher_tier_than = BARON
			any_demesne_title = {
				has_law = succ_militarist_appointment
				NOT = { is_law_potential = succ_militarist_appointment }
			}
		}
	}

	is_triggered_only = yes

	immediate = {
		log = "ATE_WWW_RELIGION.25: fire for [Root.GetBestName]"
		if = {
			limit = { has_law = ze_administration_laws_0 }
			any_demesne_title = { 
				limit = {
					has_law = succ_militarist_appointment
					NOT = { is_law_potential = succ_militarist_appointment }
				}
				add_law = { law = succ_gavelkind cooldown = no opinion_effect = no } 
			}
		}
		else = {
			any_demesne_title = { 
				limit = {
					has_law = succ_militarist_appointment
					NOT = { is_law_potential = succ_militarist_appointment }
				}
				add_law = { law = succ_primogeniture cooldown = no opinion_effect = no } 
			}
		}
		any_demesne_title = {
			if = {
				limit = {
					higher_tier_than = DUKE
					has_law = vassal_wars_law_1
					NOT = { is_law_allowed = vassal_wars_law_1 }
				}
				add_law = { law = vassal_wars_law_0 cooldown = no opinion_effect = no }
			}
			if = {
				limit = {
					higher_tier_than = DUKE
					has_law = out_of_realm_inheritance_law_1
					NOT = { is_law_allowed = out_of_realm_inheritance_law_1 }
				}
				add_law = { law = out_of_realm_inheritance_law_0 cooldown = no opinion_effect = no }
			}
		}
		if = {
			limit = { any_demesne_title = { has_title_flag = was_militarist } }
			character_event = { id = ATE_WWW_RELIGION.12 }
		}
		any_demesne_title = { 
			limit = { higher_tier_than = BARON }
			clr_title_flag = was_militarist 
			set_title_flag = was_feudal 
		}
		any_vassal = {
			limit = { is_feudal = yes is_ruler = yes mercenary = no }
			character_event = { id = ATE_WWW_RELIGION.26 }
		}
	}

}

character_event = {
	id = ATE_WWW_RELIGION.27
	hide_window = yes
		
	trigger = {
		NOT = { government = militarist_government }
		any_vassal = {
			higher_tier_than = BARON
			any_demesne_title = {
				has_law = succ_militarist_appointment
				NOT = { is_law_potential = succ_militarist_appointment }
			}
		}
	}

	is_triggered_only = yes

	immediate = {
		log = "ATE_WWW_RELIGION.25: fire for [Root.GetBestName]"
		if = {
			limit = { has_law = ze_administration_laws_0 }
			any_demesne_title = { 
				limit = {
					has_law = succ_militarist_appointment
					NOT = { is_law_potential = succ_militarist_appointment }
				}
				add_law = { law = succ_gavelkind cooldown = no opinion_effect = no } 
			}
		}
		else = {
			any_demesne_title = { 
				limit = {
					has_law = succ_militarist_appointment
					NOT = { is_law_potential = succ_militarist_appointment }
				}
				add_law = { law = succ_primogeniture cooldown = no opinion_effect = no } 
			}
		}
		any_demesne_title = {
			if = {
				limit = {
					higher_tier_than = DUKE
					has_law = vassal_wars_law_1
					NOT = { is_law_allowed = vassal_wars_law_1 }
				}
				add_law = { law = vassal_wars_law_0 cooldown = no opinion_effect = no }
			}
			if = {
				limit = {
					higher_tier_than = DUKE
					has_law = out_of_realm_inheritance_law_1
					NOT = { is_law_allowed = out_of_realm_inheritance_law_1 }
				}
				add_law = { law = out_of_realm_inheritance_law_0 cooldown = no opinion_effect = no }
			}
		}
		if = {
			limit = { any_demesne_title = { has_title_flag = was_militarist } }
			character_event = { id = ATE_WWW_RELIGION.12 }
		}
		any_demesne_title = { 
			limit = { higher_tier_than = BARON }
			clr_title_flag = was_militarist 
			set_title_flag = was_feudal 
		}
		any_vassal = {
			limit = { is_feudal = yes is_ruler = yes mercenary = no }
			character_event = { id = ATE_WWW_RELIGION.26 }
		}
	}

}

character_event = {
	id = ATE_WWW_RELIGION.28
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		NOR = {
			trait = hidden_male_trait
			trait = hidden_female_trait
		}
	}

	immediate = {
		if = {
			limit = { is_female = yes }
			add_trait = hidden_female_trait
		}
		else = {
			add_trait = hidden_male_trait
		}
	}

}

# Adapted from HIP
character_event = {
	id = ATE_WWW_RELIGION.29
	desc = EVTDESC_ATE_WWW_RELIGION_29
	picture = GFX_evt_child_talking

	is_triggered_only = yes

	immediate = {
		random_realm_province = {
			limit = { religion = ROOT }
			preferred_limit = {
				is_capital = yes
			}
			save_event_target_as = adopted_province
		}
		if = {
			limit = {
				primary_title = { has_law = enatic_succession }
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = event_target:adopted_province
				female = yes
				age = 5
				health = 6.5
				trait = adopted
				attributes = {
					learning = 2
					diplomacy = 2
					martial = 2
					stewardship = 2
					intrigue = 2
				}
			}
		}
		else_if = {
			limit = {
				primary_title = { has_law = true_cognatic_succession }
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = event_target:adopted_province
				female = 50
				age = 5
				health = 6.5
				trait = adopted
				flag = keep_male
				attributes = {
					learning = 2
					diplomacy = 2
					martial = 2
					stewardship = 2
					intrigue = 2
				}
			}
		}
		else = {
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = event_target:adopted_province
				female = no
				age = 5
				health = 6.5
				trait = adopted
				flag = keep_male
				attributes = {
					learning = 2
					diplomacy = 2
					martial = 2
					stewardship = 2
					intrigue = 2
				}
			}
		}
		new_character = {
			random_list = {
				1 = { add_trait = genius }
				2 = { add_trait = quick }
				3 = { add_trait = strong }
				4 = { change_diplomacy = 2 }
				4 = { change_learning = 2 }
				4 = { change_martial = 2 }
				4 = { change_stewardship = 2 }
				4 = { change_intrigue = 2 }
				10 = { }
			}
			if = {
				limit = { has_dlc = "Zeus" }
				random_list = {
					3 = { add_trait = timid }
					1 = { add_trait = brooding }
					1 = { add_trait = curious }
				}
			}
			if = {
				limit = { NOT = { has_dlc = "Zeus" } }
				random_list = {
					3 = { add_trait = shy }
					1 = { add_trait = humble }
					1 = { add_trait = trusting }
				}
			}
			character_event = { id = misc.30 }
			save_event_target_as = adopted_child
		}
	}

	option = {
		name = EVTOPTA_ATE_WWW_RELIGION_29
		if = {
			limit = {
				religion_supports_adoption = no
				has_heir_designation = no #meritocracy reduces penalties
			}
			piety = -500
			if = {
				limit = { tier = DUKE }
				prestige = -2000
			}
			else_if = {
				limit = { tier = KING }
				prestige = -5000
			}
			else_if = {
				limit = { higher_tier_than = KING }
				prestige = -10000
			}
			else = {
				prestige = -500
			}
		}
		else = {
			limit = {
				religion_supports_adoption = no
				has_heir_designation = no #meritocracy reduces penalties
			}
			piety = -300
			if = {
				limit = { tier = DUKE }
				prestige = -1000
			}
			else_if = {
				limit = { tier = KING }
				prestige = -3000
			}
			else_if = {
				limit = { higher_tier_than = KING }
				prestige = -7000
			}
			else = {
				prestige = -250
			}
		}
		spouse = {
			show_scope_change = no
			if = {
				limit = {
					NOT = {
						any_child = {
							character = ROOT
						}	
					}
				}
				opinion = {
					who = ROOT
					modifier = adopted_child
					years = 20
				}
				opinion = {
					who = event_target:adopted_child
					modifier = adopted_child
					years = 20
				}
			}
		}
		if = {
			limit = {
				any_child = {
					dynasty = ROOT
					NOT = { character = ROOT }
					NOT = { trait = adopted }
				}
			}
			custom_tooltip = {
				text = any_child_gets_angry_tt
				any_child = {
					show_scope_change = no
					limit = {
						NOT = { character = ROOT }
						dynasty = ROOT
						NOT = { trait = adopted }
					}
					opinion = {
						who = ROOT
						modifier = adopted_child
						months = 12
					}
					opinion = {
						who = event_target:adopted_child
						modifier = adopted_child
						months = 12
					}
				}
			}
		}
		event_target:adopted_child = {
			show_portrait = yes
			show_scope_change = no
			dynasty	= ROOT
			if = {
				limit = { ROOT = { is_female = no } }
				set_father = ROOT
			}
			else = {
				set_mother = ROOT
			}
			if = {
				limit = { ROOT = { ai = no } }
				prompt_name = {
					player = ROOT 
					type = RENAME_CHARACTER_MESSAGE 
				}
			}
		}
		recalc_succession = yes
	}

	option = {
		name = EVTOPTB_ATE_WWW_RELIGION_29
		trigger = { ai = no }
	}

	after = {
		clr_character_flag = searching_for_a_child
	}
}

character_event = {
	id = ATE_WWW_RELIGION.30
	hide_window = yes
	only_women = yes
	is_triggered_only = yes
	trigger = {
		trait = amazon_trait
		NOR = {
			religion = gaian
			religion = amazonian
			is_married = no
		}
	}

	immediate = {
		remove_trait = amazon_trait
	}
}

character_event = {
	id = ATE_WWW_RELIGION.31
	desc = EVTDESC_ATE_WWW_RELIGION_31
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes

	option = {
		name = EVTOPTA_ATE_WWW_RELIGION_31
		save_event_target_as = abductor
		FROM = {
			show_portrait = yes
			show_scope_change = no
			hidden_tooltip = {
				character_event = { id = ATE_WWW_RELIGION.32 }
			}
			any_claim = { remove_claim = PREV }
			religion = ROOT
			dynasty	= ROOT
			if = {
				limit = { ROOT = { is_female = no } }
				set_father = ROOT
				hidden_tooltip = { set_mother = 0 }
			}
			else = {
				set_mother = ROOT
				hidden_tooltip = { set_father = 0 }
			}
			add_trait = adopted
			prompt_name = {
				player = ROOT 
				type = BAPTISM 
				name_list = religion
			}
			save_event_target_as = event_target:adopted_child
		}
		if = {
			limit = {
				any_child = {
					dynasty = ROOT
					NOT = { character = ROOT }
					NOT = { trait = adopted }
				}
			}
			custom_tooltip = {
				text = any_child_gets_angry_tt
				any_child = {
					show_scope_change = no
					limit = {
						NOT = { character = ROOT }
						dynasty = ROOT
						NOT = { trait = adopted }
					}
					opinion = {
						who = ROOT
						modifier = adopted_child
						months = 12
					}
					opinion = {
						who = event_target:adopted_child
						modifier = adopted_child
						months = 12
					}
				}
			}
		}
		recalc_succession = yes
	}

	after = {
		clr_character_flag = considering_child_abduction
	}
}

character_event = {
	id = ATE_WWW_RELIGION.32
	hide_window = yes
	is_triggered_only = yes 
	
	immediate = {
		father = { character_event = { id = ATE_WWW_RELIGION.34 } }
		mother = { character_event = { id = ATE_WWW_RELIGION.34 } }
		any_close_relative = {
			limit = {
				NOR = {
					is_father = ROOT
					is_mother = ROOT
				}
			}
			character_event = { id = ATE_WWW_RELIGION.33 }
		}
	}
}

character_event = {
	id = ATE_WWW_RELIGION.33
	#desc = "EVTDESC661"
	desc = EVTDESC_ATE_WWW_RELIGION_33
	picture = GFX_evt_scandal
	
	is_triggered_only = yes 
	
	option = {
		name = "EVTOPTA661"
		opinion = {
			who = event_target:abductor
			modifier = opinion_abducted_relative_child
		}
	}
}

character_event = {
	id = ATE_WWW_RELIGION.34
	desc = EVTDESC_ATE_WWW_RELIGION_34
	picture = GFX_evt_scandal
	
	is_triggered_only = yes 

	immediate = {
		log = "ATE_WWW_RELIGION.34: fire for [Root.GetBestName], abductee [From.GetBestName], abductor [abductor.GetBestName]"
	}
	
	option = {
		name = "EVTOPTB662"
		trigger = {
			NOR = {
				is_rival = event_target:abductor
				num_of_rivals = 3
			}
		}
		if = {
			limit = { is_friend = event_target:abductor }
			remove_friend = event_target:abductor
		}
		if = {
			limit = { is_lover = event_target:abductor }
			remove_lover = event_target:abductor
		}
		add_rival = event_target:abductor
		opinion = {
			who = event_target:abductor
			modifier = opinion_abducted_parent_child
			years = 200
		}
		recalc_succession = yes
	}
	option = {
		name = "EVTOPTA662"
		if = {
			limit = { is_friend = event_target:abductor }
			remove_friend = event_target:abductor
		}
		if = {
			limit = { is_lover = event_target:abductor }
			remove_lover = event_target:abductor
		}
		opinion = {
			who = event_target:abductor
			modifier = opinion_abducted_parent_child
			years = 200
		}
		recalc_succession = yes
	}
}


character_event = {
	id = ATE_WWW_RELIGION.35
	desc = EVTDESC_ATE_WWW_RELIGION_35
	picture = GFX_evt_torture
	
	is_triggered_only = yes 

	fail_trigger_effect = {
		clr_character_flag = chrome_cultist_ulimate_sacrifice_flag
	}
	
	trigger = {
		religion = chrome_cultist
	}

	option = {
		name = EVTOPTA_ATE_WWW_RELIGION_35
		trigger = {
			NOT = { trait = one_legged }
			any_artifact = {
				OR = {
					artifact = prosthetic_leg_artifact
					has_artifact_flag = prosthetic_leg
				}
			}
		}
		piety = 750
		if = {
			limit = { trait = craven }
			random = {
				chance = 40
				remove_trait = craven
			}
		}
		else_if = {
			limit = { NOT = { trait = brave } }
			random = {
				chance = 40
				add_trait = brave
			}
		}
		if = {
			limit = { trait = cynical }
			remove_trait = cynical
		}
		else_if = {
			limit = { NOT = { trait = zealous } }
			add_trait = zealous
		}
		add_trait = one_legged 
		add_trait = severely_injured
		resolve_severely_injured_effect = yes
		add_trait = chrome_cultist_sacrifice
	}
	option = {
		name = EVTOPTB_ATE_WWW_RELIGION_35
		trigger = {
			NOT = { trait = one_handed }
			any_artifact = {
				OR = {
					artifact = prosthetic_hand_metal
					artifact = prosthetic_hand_gold
					has_artifact_flag = prosthetic_hand
				}
			}
		}
		piety = 750
		if = {
			limit = { trait = craven }
			remove_trait = craven
		}
		else_if = {
			limit = { NOT = { trait = brave } }
			add_trait = brave
		}
		if = {
			limit = { trait = cynical }
			remove_trait = cynical
		}
		else_if = {
			limit = { NOT = { trait = zealous } }
			add_trait = zealous
		}
		add_trait = one_handed
		add_trait = severely_injured
		resolve_severely_injured_effect = yes
		add_trait = chrome_cultist_sacrifice
	}
	after = {
		clr_character_flag = chrome_cultist_ulimate_sacrifice_flag
	}
}

character_event = {
	id = ATE_WWW_RELIGION.36
	hide_window = yes
	is_triggered_only = yes
	religion = evangelical
	only_men = yes
	trigger = {
		is_priest = yes
		NOR = {
			trait = lutheran
			trait = baptist
			trait = methodist
		}
	}

	option = {
		add_trait = lutheran
		ai_chance = {
			factor = 1.1
			modifier = {
				factor = 2
				trait = mystic
			}
			modifier = {
				factor = 2
				trait = scholar
			}
			modifier = {
				factor = 2
				trait = theologian
			}
			modifier = {
				factor = 2
				trait = ambitious
			}
			modifier = {
				factor = 1.1
				learning = 8
			}
			modifier = {
				factor = 1.1
				learning = 10
			}
			modifier = {
				factor = 1.1
				learning = 12
			}
			modifier = {
				factor = 1.1
				learning = 14
			}
			modifier = {
				factor = 1.1
				learning = 16
			}
		}
	}
	option = {
		add_trait = baptist
		ai_chance = {
			factor = 1.1
			modifier = {
				factor = 2
				trait = gregarious
			}
			modifier = {
				factor = 2
				trait = erudite
			}
			modifier = {
				factor = 2
				trait = honest
			}
			modifier = {
				factor = 0.5
				trait = deceitful
			}
			modifier = {
				factor = 0.5
				trait = wroth
			}
			modifier = {
				factor = 0
				trait = crusader
			}
			modifier = {
				factor = 1.1
				diplomacy = 8
			}
			modifier = {
				factor = 1.1
				diplomacy = 10
			}
			modifier = {
				factor = 1.1
				diplomacy = 12
			}
			modifier = {
				factor = 1.1
				diplomacy = 14
			}
			modifier = {
				factor = 1.1
				diplomacy = 16
			}
			modifier = {
				factor = 0.5
				trait = drunkard
			}
		}
	}
	option = {
		add_trait = methodist
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				trait = zealous
			}
			modifier = {
				factor = 2
				trait = stubborn
			}
			modifier = {
				factor = 2
				trait = proud
			}
			modifier = {
				factor = 0.5
				trait = humble
			}
			modifier = {
				factor = 0.5
				trait = trusting
			}
			modifier = {
				factor = 4
				trait = crusader
			}
			modifier = {
				factor = 1.1
				martial = 8
			}
			modifier = {
				factor = 1.1
				martial = 10
			}
			modifier = {
				factor = 1.1
				martial = 12
			}
			modifier = {
				factor = 1.1
				martial = 14
			}
			modifier = {
				factor = 1.1
				martial = 16
			}
		}
	}
}

character_event = {
	id = ATE_WWW_RELIGION.37
	hide_window = yes
	is_triggered_only = yes
	religion = evangelical
	only_men = yes
	trigger = {
		has_landed_title = k_evangelical
	}

	immediate = {
		if = {
			limit = {
				trait = methodist 
				evangelical = {
					OR = {
						NOT = { has_flag = evangelical_methodist_applied }
						had_flag = { flag = evangelical_methodist_applied days = 364 }
					}
				}
			}
			evangelical = {
				clr_flag = evangelical_methodist_applied
				set_flag = evangelical_methodist_applied
			}
			religion_authority = {
				modifier = methodist_in_charge
				years = 1
			}
		}
		character_event = { id = ATE_WWW_RELIGION.37 days = 365 }
	}
}

province_event = {
	id = ATE_WWW_RELIGION.38
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		OR = {
			AND = {
				religion_scope = { is_pacifist_religion = yes }
				NOT = { has_province_modifier = pacifist_religion }
			}
			AND = {
				religion_scope = { is_pacifist_religion = no }
				has_province_modifier = pacifist_religion
			}
			AND = {
				religion = cult_of_marx
				owner = {
					top_liege = { NOT = { religion = commie_cell } }
				}
				NOT = { has_province_modifier = cult_of_marx }
			}
			AND = {
				has_province_modifier = commie_cell
				owner = {
					top_liege = { religion = cult_of_marx }
				}
			}
		}
	}

	immediate = {
		if = {
			limit = {
				religion_scope = { is_pacifist_religion = yes }
				NOT = { has_province_modifier = pacifist_religion }
			}
			log = "Set province [This.GetName] as pacifist"
			add_province_modifier = { name = pacifist_religion duration = -1 }
		}
		else = {
			log = "Remove province [This.GetName] as pacifist"
			remove_province_modifier = pacifist_religion
		}

		if = {
			limit = {
				religion = cult_of_marx
				owner = {
					top_liege = { NOT = { religion = cult_of_marx } }
				}
				NOT = { has_province_modifier = commie_cell }
			}
			add_province_modifier = { name = commie_cell duration = -1 }
		}
		else_if = {
			limit = {
				owner = {
					top_liege = { religion = cult_of_marx }
				}
				has_province_modifier = commie_cell 
			}
			remove_province_modifier = commie_cell
		}
	}
}

character_event = {
	id = ATE_WWW_RELIGION.39
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		controls_religion = yes
		religion = catholic # only for the Pope
	}

	immediate = {
		any_province = {
			province_event = { id = ATE_WWW_RELIGION.38 }
		}
	}
}

character_event = {
	id = ATE_WWW_RELIGION.40
	hide_window = yes
	is_triggered_only = yes
	religion = neognostic
	trigger = {
		NOT = {
			trait = sympathy_pacific_neognostic
		}
	}
	immediate = {
		add_trait = sympathy_pacific_neognostic
	}
}
